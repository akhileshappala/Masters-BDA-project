{"code":"(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[13],{286:function(e,t,a){\"use strict\";a.r(t);var n=a(73),s=(a(91),a(21)),c=a(2),i=a(285),o=a(19),d=function(e){e.lastUpdatedDate,e.newUpdate,e.isTimelineMode;var t=e.setIsTimelineMode,a=e.showUpdates,n=(e.date,e.setDate,e.dates,e.setNewUpdate),s=e.setShowUpdates;Object(i.a)().t,Object(c.useMemo)((function(){var e=[];return[0,0,0].map((function(t,a){return e.push({animationDelay:\"\".concat(500+250*a,\"ms\")}),null})),e}),[]),Object(c.useCallback)((function(){t(!0),a&&s(!a)}),[t,s,a]),Object(c.useCallback)((function(){a||n(!1),s(!a)}),[a,s,n]);return Object(o.jsx)(\"div\",{className:\"ActionsPanel\"})},r=a(9),u=a(254),l=a(76),j=a.n(l),b=a(252),p=a(152),O=Object(c.lazy)((function(){return Object(s.k)((function(){return Promise.all([a.e(0),a.e(24)]).then(a.bind(null,265))}))})),f=function(e){var t=e.date,a=e.setDate,i=e.dates,l=e.lastUpdatedDate,j=Object(c.useState)(!1),f=Object(n.a)(j,2),m=f[0],h=f[1],v=Object(b.a)(\"newUpdate\",!1),w=Object(n.a)(v,2),U=w[0],g=w[1],x=Object(b.a)(\"lastViewedLog\",0),D=Object(n.a)(x,2),k=D[0],M=D[1],S=Object(c.useState)(!1),T=Object(n.a)(S,2),y=T[0],N=T[1],C=Object(p.a)(\"\".concat(r.a,\"/updatelog/log.json\"),s.b,{refreshInterval:r.b}).data;Object(c.useEffect)((function(){if(void 0!==C){var e=1e3*C.slice().reverse()[0].timestamp;e!==k&&(g(!0),M(e))}}),[k,C,M,g]);var I=Object(c.useMemo)((function(){return Object(s.d)(Object(u.a)([k,l].filter((function(e){return e})).map((function(e){return Object(s.j)(e)}))))}),[k,l]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d,{lastUpdatedDate:I,newUpdate:U,isTimelineMode:y,setIsTimelineMode:N,showUpdates:m,date:t,setDate:a,dates:i,setNewUpdate:g,setShowUpdates:h}),m&&Object(o.jsx)(c.Suspense,{fallback:Object(o.jsx)(\"div\",{}),children:Object(o.jsx)(O,{updates:C})})]})},m=function(e,t){return!!j()(t.date,e.date)&&(!!j()(t.lastUpdatedDate,e.lastUpdatedDate)&&!!j()(t.dates,e.dates))};t.default=Object(c.memo)(f,m)},91:function(e,t,a){\"use strict\";var n=a(85),s=a(150),c=a(2),i=(a(140),a(141),a(19));t.a=function(e){var t=e.children,a=e.message,o=e.hold,d=void 0!==o&&o,r=e.childProps,u=void 0===r?{}:r,l=Object(c.useCallback)((function(e){return e.stopPropagation()}),[]);return Object(i.jsx)(s.a,{className:\"Tooltip\",content:\"string\"===typeof a?Object(i.jsx)(\"p\",{className:\"message\",dangerouslySetInnerHTML:{__html:a.trim().split(\"\\n\").map((function(e){return\"<div>\".concat(e,\"</div>\")})).join(\"\")}}):a,arrow:!1,animation:\"shift-away\",touch:!d||[\"hold\",300],children:Object(i.jsx)(\"div\",Object(n.a)(Object(n.a)({onClick:l},u),{},{children:t}))})}}}]);","name":"static/js/13.6bbe764d.chunk.js","map":{"version":3,"sources":["static/js/13.6bbe764d.chunk.js"],"names":["this","push","286","module","__webpack_exports__","__webpack_require__","r","slicedToArray","commonFunctions","react","useTranslation","jsx_runtime","components_ActionsPanel","_ref","lastUpdatedDate","newUpdate","isTimelineMode","setIsTimelineMode","showUpdates","setNewUpdate","date","setDate","dates","setShowUpdates","Object","t","styles","map","element","index","animationDelay","concat","className","constants","max","fast_deep_equal","fast_deep_equal_default","n","useLocalStorage","esm","Updates","Promise","all","e","then","bind","Actions_Actions","_useState","_useState2","_useLocalStorage","_useLocalStorage2","_useLocalStorage3","_useLocalStorage4","lastViewedLog","setLastViewedLog","_useState3","_useState4","updates","refreshInterval","data","undefined","lastTimestamp","slice","reverse","timestamp","maxLastUpdatedDate","filter","children","fallback","Actions_isEqual","prevProps","currProps","91","_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","_tippyjs_react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","message","_ref$hold","hold","_ref$childProps","childProps","handleClick","stopPropagation","content","dangerouslySetInnerHTML","__html","trim","split","text","join","arrow","animation","touch","onClick"],"mappings":"CAACA,KAA+B,yBAAIA,KAA+B,0BAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAEjFC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAgBF,EAAoB,IAMpCG,GAHUH,EAAoB,IAGZA,EAAoB,KAGtCI,EAAQJ,EAAoB,GAG5BK,EAAiBL,EAAoB,KAGrCM,EAAcN,EAAoB,IAGiyCO,EAA3iC,SAAsBC,GAA0BA,EAAKC,gBAA0BD,EAAKE,UAAyBF,EAAKG,eAAtF,IAAqGC,EAAkBJ,EAAKI,kBAAkBC,EAAYL,EAAKK,YAAiEC,GAAhDN,EAAKO,KAAaP,EAAKQ,QAAcR,EAAKS,MAAmBT,EAAKM,cAAaI,EAAeV,EAAKU,eAAmCC,OAAOd,EAAuC,EAA9Cc,GAAqEC,EAAYD,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,IAAIE,EAAO,GAAkH,MAA/G,CAAC,EAAE,EAAE,GAAGC,KAAI,SAASC,EAAQC,GAAmE,OAA5DH,EAAOzB,KAAK,CAAC6B,eAAe,GAAGC,OAAO,IAAU,IAANF,EAAU,QAAe,QAAeH,IAAS,IAA4BF,OAAOf,EAAmB,YAA1Be,EAA6B,WAAWP,GAAkB,GAASC,GAAYK,GAAgBL,KAAe,CAACD,EAAkBM,EAAeL,IAAkCM,OAAOf,EAAmB,YAA1Be,EAA6B,WAAeN,GAAYC,GAAa,GAAOI,GAAgBL,KAAe,CAACA,EAAYK,EAAeJ,IAAe,OAAmBK,OAAOb,EAAiB,IAAxBa,CAA2B,MAAM,CAACQ,UAAU,kBAE/wCC,EAAY5B,EAAoB,GAGhC6B,EAAM7B,EAAoB,KAG1B8B,EAAkB9B,EAAoB,IACtC+B,EAAuC/B,EAAoBgC,EAAEF,GAG7DG,EAAkBjC,EAAoB,KAGtCkC,EAAMlC,EAAoB,KAG1BmC,EAAqBhB,OAAOf,EAAY,KAAnBe,EAAsB,WAAW,OAAOA,OAAOhB,EAA+B,EAAtCgB,EAAyC,WAAW,OAAOiB,QAAQC,IAAkB,CAACrC,EAAoBsC,EAAE,GAAItC,EAAoBsC,EAAE,MAAMC,KAAKvC,EAAoBwC,KAAK,KAAM,YAAgBC,EAAgB,SAAiBjC,GAAM,IAAIO,EAAKP,EAAKO,KAAKC,EAAQR,EAAKQ,QAAQC,EAAMT,EAAKS,MAAMR,EAAgBD,EAAKC,gBAAoBiC,EAAUvB,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOwB,EAAWxB,OAAOjB,EAA+B,EAAtCiB,CAAyCuB,EAAU,GAAG7B,EAAY8B,EAAW,GAAGzB,EAAeyB,EAAW,GAAOC,EAAiBzB,OAAOc,EAAiC,EAAxCd,CAA2C,aAAY,GAAO0B,EAAkB1B,OAAOjB,EAA+B,EAAtCiB,CAAyCyB,EAAiB,GAAGlC,EAAUmC,EAAkB,GAAG/B,EAAa+B,EAAkB,GAAOC,EAAkB3B,OAAOc,EAAiC,EAAxCd,CAA2C,gBAAgB,GAAG4B,EAAkB5B,OAAOjB,EAA+B,EAAtCiB,CAAyC2B,EAAkB,GAAGE,EAAcD,EAAkB,GAAGE,EAAiBF,EAAkB,GAAOG,EAAW/B,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOgC,EAAWhC,OAAOjB,EAA+B,EAAtCiB,CAAyC+B,EAAW,GAAGvC,EAAewC,EAAW,GAAGvC,EAAkBuC,EAAW,GAA+MC,EAAhMjC,OAAOe,EAAqB,EAA5Bf,CAA+B,GAAGO,OAAOE,EAA8B,EAAE,uBAAuBzB,EAAiC,EAAE,CAACkD,gBAAgBzB,EAAwC,IAAoB0B,KAAKnC,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,QAAaoC,IAAVH,EAAoB,CAAC,IAAII,EAAqD,IAAvCJ,EAAQK,QAAQC,UAAU,GAAGC,UAAkBH,IAAgBR,IAAelC,GAAa,GAAMmC,EAAiBO,OAAmB,CAACR,EAAcI,EAAQH,EAAiBnC,IAAe,IAAI8C,EAAmBzC,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,OAAOA,OAAOhB,EAA4C,EAAnDgB,CAAsDA,OAAOU,EAAqB,EAA5BV,CAA+B,CAAC6B,EAAcvC,GAAiBoD,QAAO,SAAS9C,GAAM,OAAOA,KAAQO,KAAI,SAASP,GAAM,OAAOI,OAAOhB,EAAwC,EAA/CgB,CAAkDJ,UAAa,CAACiC,EAAcvC,IAAkB,OAAmBU,OAAOb,EAAkB,KAAzBa,CAA4Bb,EAAsB,SAAE,CAACwD,SAAS,CAAc3C,OAAOb,EAAiB,IAAxBa,CAA2BZ,EAAwB,CAACE,gBAAgBmD,EAAmBlD,UAAUA,EAAUC,eAAeA,EAAeC,kBAAkBA,EAAkBC,YAAYA,EAAYE,KAAKA,EAAKC,QAAQA,EAAQC,MAAMA,EAAMH,aAAaA,EAAaI,eAAeA,IAAiBL,GAA0BM,OAAOb,EAAiB,IAAxBa,CAA2Bf,EAAgB,SAAE,CAAC2D,SAAsB5C,OAAOb,EAAiB,IAAxBa,CAA2B,MAAM,IAAI2C,SAAsB3C,OAAOb,EAAiB,IAAxBa,CAA2BgB,EAAQ,CAACiB,QAAQA,UAAqBY,EAAgB,SAAiBC,EAAUC,GAAW,QAAInC,GAAAA,CAA0BmC,EAAUnD,KAAKkD,EAAUlD,UAA8BgB,GAAAA,CAA0BmC,EAAUzD,gBAAgBwD,EAAUxD,oBAAyCsB,GAAAA,CAA0BmC,EAAUjD,MAAMgD,EAAUhD,SAA0FlB,EAA6B,QAAkBoB,OAAOf,EAAY,KAAjC,CAAoCqC,EAAgBuB,IAI5hGG,GACA,SAAUrE,EAAQC,EAAqBC,GAE7C,aACqB,IAAIoE,EAAgMpE,EAAoB,IACpNqE,EAA8CrE,EAAoB,KAClEsE,EAAqCtE,EAAoB,GAMzDuE,GAJuDvE,EAAoB,KAETA,EAAoB,KAErCA,EAAoB,KAE80CD,EAAuB,EAAn8C,SAAiBS,GAAM,IAAIsD,EAAStD,EAAKsD,SAASU,EAAQhE,EAAKgE,QAAQC,EAAUjE,EAAKkE,KAAKA,OAAiB,IAAZD,GAAyBA,EAAUE,EAAgBnE,EAAKoE,WAAWA,OAA6B,IAAlBD,EAAyB,GAAGA,EAAoBE,EAAY1D,OAAOmD,EAAgD,YAAvDnD,EAA0D,SAASmB,GAAG,OAAOA,EAAEwC,oBAAoB,IAAI,OAAmB3D,OAAOoD,EAAoD,IAA3DpD,CAA8DkD,EAA6D,EAAE,CAAC1C,UAAU,UAAUoD,QAAyB,kBAAVP,EAAgCrD,OAAOoD,EAAoD,IAA3DpD,CAA8D,IAAI,CAACQ,UAAU,UAAUqD,wBAAwB,CAACC,OAAOT,EAAQU,OAAOC,MAAM,MAAM7D,KAAI,SAAS8D,GAAM,MAAM,QAAQ1D,OAAO0D,EAAK,aAAaC,KAAK,OAAOb,EAAQc,OAAM,EAAMC,UAAU,aAAaC,OAAMd,GAAK,CAAC,OAAO,KAAUZ,SAAsB3C,OAAOoD,EAAoD,IAA3DpD,CAA8D,MAAMA,OAAOiD,EAA+M,EAAtNjD,CAAyNA,OAAOiD,EAA+M,EAAtNjD,CAAyN,CAACsE,QAAQZ,GAAaD,GAAY,GAAG,CAACd,SAASA"},"input":"(this[\"webpackJsonpcovid19india\"] = this[\"webpackJsonpcovid19india\"] || []).push([[13],{\n\n/***/ 286:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./src/components/Tooltip.js\nvar Tooltip = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./src/utils/commonFunctions.js\nvar commonFunctions = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-i18next/dist/es/useTranslation.js + 1 modules\nvar useTranslation = __webpack_require__(285);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/components/ActionsPanel.js\nvar Timeline=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(10)]).then(__webpack_require__.bind(null, 277));});});var ActionsPanel_ActionsPanel=function ActionsPanel(_ref){var lastUpdatedDate=_ref.lastUpdatedDate,newUpdate=_ref.newUpdate,isTimelineMode=_ref.isTimelineMode,setIsTimelineMode=_ref.setIsTimelineMode,showUpdates=_ref.showUpdates,date=_ref.date,setDate=_ref.setDate,dates=_ref.dates,setNewUpdate=_ref.setNewUpdate,setShowUpdates=_ref.setShowUpdates;var _useTranslation=Object(useTranslation[\"a\" /* useTranslation */])(),t=_useTranslation.t;var trail=Object(react[\"useMemo\"])(function(){var styles=[];[0,0,0].map(function(element,index){styles.push({animationDelay:\"\".concat(500+index*250,\"ms\")});return null;});return styles;},[]);var handleTimelineClick=Object(react[\"useCallback\"])(function(){setIsTimelineMode(true);if(showUpdates)setShowUpdates(!showUpdates);},[setIsTimelineMode,setShowUpdates,showUpdates]);var handleBellClick=Object(react[\"useCallback\"])(function(){if(!showUpdates)setNewUpdate(false);setShowUpdates(!showUpdates);},[showUpdates,setShowUpdates,setNewUpdate]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ActionsPanel\"});};/* harmony default export */ var components_ActionsPanel = (ActionsPanel_ActionsPanel);\n// EXTERNAL MODULE: ./src/constants.js\nvar constants = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/max/index.js\nvar max = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/fast-deep-equal/index.js\nvar fast_deep_equal = __webpack_require__(76);\nvar fast_deep_equal_default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useLocalStorage.js\nvar useLocalStorage = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./node_modules/swr/esm/index.js + 9 modules\nvar esm = __webpack_require__(152);\n\n// CONCATENATED MODULE: ./src/components/Actions.js\nvar Updates=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(24)]).then(__webpack_require__.bind(null, 265));});});var Actions_Actions=function Actions(_ref){var date=_ref.date,setDate=_ref.setDate,dates=_ref.dates,lastUpdatedDate=_ref.lastUpdatedDate;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showUpdates=_useState2[0],setShowUpdates=_useState2[1];var _useLocalStorage=Object(useLocalStorage[\"a\" /* default */])('newUpdate',false),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,2),newUpdate=_useLocalStorage2[0],setNewUpdate=_useLocalStorage2[1];var _useLocalStorage3=Object(useLocalStorage[\"a\" /* default */])('lastViewedLog',0),_useLocalStorage4=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage3,2),lastViewedLog=_useLocalStorage4[0],setLastViewedLog=_useLocalStorage4[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isTimelineMode=_useState4[0],setIsTimelineMode=_useState4[1];var _useSWR=Object(esm[\"a\" /* default */])(\"\".concat(constants[\"a\" /* API_DOMAIN */],\"/updatelog/log.json\"),commonFunctions[\"b\" /* fetcher */],{refreshInterval:constants[\"b\" /* API_REFRESH_INTERVAL */]}),updates=_useSWR.data;Object(react[\"useEffect\"])(function(){if(updates!==undefined){var lastTimestamp=updates.slice().reverse()[0].timestamp*1000;if(lastTimestamp!==lastViewedLog){setNewUpdate(true);setLastViewedLog(lastTimestamp);}}},[lastViewedLog,updates,setLastViewedLog,setNewUpdate]);var maxLastUpdatedDate=Object(react[\"useMemo\"])(function(){return Object(commonFunctions[\"d\" /* formatDateObjIndia */])(Object(max[\"a\" /* default */])([lastViewedLog,lastUpdatedDate].filter(function(date){return date;}).map(function(date){return Object(commonFunctions[\"j\" /* parseIndiaDate */])(date);})));},[lastViewedLog,lastUpdatedDate]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ActionsPanel,{lastUpdatedDate:maxLastUpdatedDate,newUpdate:newUpdate,isTimelineMode:isTimelineMode,setIsTimelineMode:setIsTimelineMode,showUpdates:showUpdates,date:date,setDate:setDate,dates:dates,setNewUpdate:setNewUpdate,setShowUpdates:setShowUpdates}),showUpdates&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Updates,{updates:updates})})]});};var Actions_isEqual=function isEqual(prevProps,currProps){if(!fast_deep_equal_default()(currProps.date,prevProps.date)){return false;}else if(!fast_deep_equal_default()(currProps.lastUpdatedDate,prevProps.lastUpdatedDate)){return false;}else if(!fast_deep_equal_default()(currProps.dates,prevProps.dates)){return false;}return true;};/* harmony default export */ var components_Actions = __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react[\"memo\"])(Actions_Actions,Actions_isEqual));\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85);\n/* harmony import */ var _tippyjs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(150);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(140);\n/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(141);\n/* harmony import */ var tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\nfunction Tooltip(_ref){var children=_ref.children,message=_ref.message,_ref$hold=_ref.hold,hold=_ref$hold===void 0?false:_ref$hold,_ref$childProps=_ref.childProps,childProps=_ref$childProps===void 0?{}:_ref$childProps;var handleClick=Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function(e){return e.stopPropagation();},[]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(_tippyjs_react__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"],{className:\"Tooltip\",content:typeof message==='string'?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(\"p\",{className:\"message\",dangerouslySetInnerHTML:{__html:message.trim().split('\\n').map(function(text){return\"<div>\".concat(text,\"</div>\");}).join('')}}):message,arrow:false,animation:\"shift-away\",touch:hold?['hold',300]:true,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(\"div\",Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({onClick:handleClick},childProps),{},{children:children}))});}/* harmony default export */ __webpack_exports__[\"a\"] = (Tooltip);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/ActionsPanel.js","/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Actions.js","/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Tooltip.js"],"names":["Timeline","lazy","retry","ActionsPanel","lastUpdatedDate","newUpdate","isTimelineMode","setIsTimelineMode","showUpdates","date","setDate","dates","setNewUpdate","setShowUpdates","useTranslation","t","trail","useMemo","styles","map","element","index","push","animationDelay","handleTimelineClick","useCallback","handleBellClick","Updates","Actions","useState","useLocalStorage","lastViewedLog","setLastViewedLog","useSWR","API_DOMAIN","fetcher","refreshInterval","API_REFRESH_INTERVAL","updates","data","useEffect","undefined","lastTimestamp","slice","reverse","timestamp","maxLastUpdatedDate","formatDateObjIndia","max","filter","parseIndiaDate","isEqual","prevProps","currProps","equal","memo","Tooltip","children","message","hold","childProps","handleClick","e","stopPropagation","__html","trim","split","text","join"],"mappings":"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","file":"x","sourcesContent":["import Tooltip from './Tooltip';\n\nimport {formatDate, retry} from '../utils/commonFunctions';\n\nimport {BellIcon, BellSlashIcon, HistoryIcon} from '@primer/octicons-react';\nimport {useMemo, useCallback, lazy, Suspense} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nconst Timeline = lazy(() => retry(() => import('./Timeline')));\n\nconst ActionsPanel = ({\n  lastUpdatedDate,\n  newUpdate,\n  isTimelineMode,\n  setIsTimelineMode,\n  showUpdates,\n  date,\n  setDate,\n  dates,\n  setNewUpdate,\n  setShowUpdates,\n}) => {\n  const {t} = useTranslation();\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${500 + index * 250}ms`,\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n\n  const handleTimelineClick = useCallback(() => {\n    setIsTimelineMode(true);\n    if (showUpdates) setShowUpdates(!showUpdates);\n  }, [setIsTimelineMode, setShowUpdates, showUpdates]);\n\n  const handleBellClick = useCallback(() => {\n    if (!showUpdates) setNewUpdate(false);\n    setShowUpdates(!showUpdates);\n  }, [showUpdates, setShowUpdates, setNewUpdate]);\n\n  return (\n    <div className=\"ActionsPanel\">\n    \n    </div>\n  );\n};\n\nexport default ActionsPanel;\n","import ActionsPanel from './ActionsPanel';\n\nimport {API_DOMAIN, API_REFRESH_INTERVAL} from '../constants';\nimport {\n  fetcher,\n  formatDateObjIndia,\n  parseIndiaDate,\n  retry,\n} from '../utils/commonFunctions';\n\nimport {max} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport {memo, useEffect, useMemo, useState, lazy, Suspense} from 'react';\nimport {useLocalStorage} from 'react-use';\nimport useSWR from 'swr';\n\nconst Updates = lazy(() => retry(() => import('./Updates')));\n\nconst Actions = ({date, setDate, dates, lastUpdatedDate}) => {\n  const [showUpdates, setShowUpdates] = useState(false);\n  const [newUpdate, setNewUpdate] = useLocalStorage('newUpdate', false);\n  const [lastViewedLog, setLastViewedLog] = useLocalStorage('lastViewedLog', 0);\n  const [isTimelineMode, setIsTimelineMode] = useState(false);\n\n  const {data: updates} = useSWR(`${API_DOMAIN}/updatelog/log.json`, fetcher, {\n    refreshInterval: API_REFRESH_INTERVAL,\n  });\n\n  useEffect(() => {\n    if (updates !== undefined) {\n      const lastTimestamp = updates.slice().reverse()[0].timestamp * 1000;\n      if (lastTimestamp !== lastViewedLog) {\n        setNewUpdate(true);\n        setLastViewedLog(lastTimestamp);\n      }\n    }\n  }, [lastViewedLog, updates, setLastViewedLog, setNewUpdate]);\n\n  const maxLastUpdatedDate = useMemo(() => {\n    return formatDateObjIndia(\n      max(\n        [lastViewedLog, lastUpdatedDate]\n          .filter((date) => date)\n          .map((date) => parseIndiaDate(date))\n      )\n    );\n  }, [lastViewedLog, lastUpdatedDate]);\n\n  return (\n    <>\n      <ActionsPanel\n        {...{\n          lastUpdatedDate: maxLastUpdatedDate,\n          newUpdate,\n          isTimelineMode,\n          setIsTimelineMode,\n          showUpdates,\n          date,\n          setDate,\n          dates,\n          setNewUpdate,\n          setShowUpdates,\n        }}\n      />\n\n      {showUpdates && (\n        <Suspense fallback={<div />}>\n          <Updates {...{updates}} />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  } else if (!equal(currProps.lastUpdatedDate, prevProps.lastUpdatedDate)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Actions, isEqual);\n","import Tippy from '@tippyjs/react';\nimport {useCallback} from 'react';\n\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/shift-away.css';\n\nfunction Tooltip({children, message, hold = false, childProps = {}}) {\n  const handleClick = useCallback((e) => e.stopPropagation(), []);\n\n  return (\n    <Tippy\n      className=\"Tooltip\"\n      content={\n        typeof message === 'string' ? (\n          <p\n            className=\"message\"\n            dangerouslySetInnerHTML={{\n              __html: message\n                .trim()\n                .split('\\n')\n                .map((text) => `<div>${text}</div>`)\n                .join(''),\n            }}\n          ></p>\n        ) : (\n          message\n        )\n      }\n      arrow={false}\n      animation=\"shift-away\"\n      touch={hold ? ['hold', 300] : true}\n    >\n      <div onClick={handleClick} {...childProps}>\n        {children}\n      </div>\n    </Tippy>\n  );\n}\n\nexport default Tooltip;\n"]}}