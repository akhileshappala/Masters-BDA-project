{"ast":null,"code":"import _objectSpread from\"/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import Tooltip from'./Tooltip';import{STATISTIC_CONFIGS}from'../constants';import{toTitleCase}from'../utils/commonFunctions';import{InfoIcon,SortAscIcon,SortDescIcon}from'@primer/octicons-react';import classnames from'classnames';import equal from'fast-deep-equal';import produce from'immer';import{memo,useCallback,useRef}from'react';import{useTranslation}from'react-i18next';import{useLongPress}from'react-use';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function StateHeaderCell(_ref){var _statisticConfig$tabl,_statisticConfig$tabl2;var handleSort=_ref.handleSort,sortData=_ref.sortData,setSortData=_ref.setSortData,statistic=_ref.statistic;var _useTranslation=useTranslation(),t=_useTranslation.t;var wasLongPressed=useRef(false);var onLongPress=function onLongPress(){if(sortData.sortColumn===statistic){wasLongPressed.current=true;setSortData(produce(sortData,function(sortDataDraft){sortDataDraft.delta=!sortData.delta;}));}};var longPressEvent=useLongPress(onLongPress,{isPreventDefault:false});var handleClick=useCallback(function(statistic){if(wasLongPressed.current){wasLongPressed.current=false;}else{handleSort(statistic);}},[handleSort]);var statisticConfig=STATISTIC_CONFIGS[statistic];return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classnames('cell','heading'),onClick:handleClick.bind(this,statistic)},longPressEvent),{},{children:[sortData.sortColumn===statistic&&/*#__PURE__*/_jsx(\"div\",{className:classnames('sort-icon',_defineProperty({},\"is-\".concat(statistic),sortData.delta)),children:sortData.isAscending?/*#__PURE__*/_jsx(SortAscIcon,{size:12}):/*#__PURE__*/_jsx(SortDescIcon,{size:12})}),(statisticConfig===null||statisticConfig===void 0?void 0:(_statisticConfig$tabl=statisticConfig.tableConfig)===null||_statisticConfig$tabl===void 0?void 0:_statisticConfig$tabl.notes)&&/*#__PURE__*/_jsx(Tooltip,{message:t(statisticConfig.tableConfig.notes),children:/*#__PURE__*/_jsx(InfoIcon,{size:14})}),/*#__PURE__*/_jsx(\"div\",{children:t((statisticConfig===null||statisticConfig===void 0?void 0:(_statisticConfig$tabl2=statisticConfig.tableConfig)===null||_statisticConfig$tabl2===void 0?void 0:_statisticConfig$tabl2.displayName)||statisticConfig.displayName)})]}));}var isStateHeaderCellEqual=function isStateHeaderCellEqual(prevProps,currProps){if(!equal(prevProps.sortData,currProps.sortData)){return false;}else{return true;}};export default/*#__PURE__*/memo(StateHeaderCell,isStateHeaderCellEqual);","map":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/HeaderCell.js"],"names":["Tooltip","STATISTIC_CONFIGS","toTitleCase","InfoIcon","SortAscIcon","SortDescIcon","classnames","equal","produce","memo","useCallback","useRef","useTranslation","useLongPress","StateHeaderCell","handleSort","sortData","setSortData","statistic","t","wasLongPressed","onLongPress","sortColumn","current","sortDataDraft","delta","longPressEvent","isPreventDefault","handleClick","statisticConfig","bind","isAscending","tableConfig","notes","displayName","isStateHeaderCellEqual","prevProps","currProps"],"mappings":"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","sourcesContent":["import Tooltip from './Tooltip';\n\nimport {STATISTIC_CONFIGS} from '../constants';\nimport {toTitleCase} from '../utils/commonFunctions';\n\nimport {InfoIcon, SortAscIcon, SortDescIcon} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {memo, useCallback, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useLongPress} from 'react-use';\n\nfunction StateHeaderCell({handleSort, sortData, setSortData, statistic}) {\n  const {t} = useTranslation();\n  const wasLongPressed = useRef(false);\n\n  const onLongPress = () => {\n    if (sortData.sortColumn === statistic) {\n      wasLongPressed.current = true;\n      setSortData(\n        produce(sortData, (sortDataDraft) => {\n          sortDataDraft.delta = !sortData.delta;\n        })\n      );\n    }\n  };\n  const longPressEvent = useLongPress(onLongPress, {isPreventDefault: false});\n\n  const handleClick = useCallback(\n    (statistic) => {\n      if (wasLongPressed.current) {\n        wasLongPressed.current = false;\n      } else {\n        handleSort(statistic);\n      }\n    },\n    [handleSort]\n  );\n\n  const statisticConfig = STATISTIC_CONFIGS[statistic];\n\n  return (\n    <div\n      className={classnames('cell', 'heading')}\n      onClick={handleClick.bind(this, statistic)}\n      {...longPressEvent}\n    >\n      {sortData.sortColumn === statistic && (\n        <div\n          className={classnames('sort-icon', {\n            [`is-${statistic}`]: sortData.delta,\n          })}\n        >\n          {sortData.isAscending ? (\n            <SortAscIcon size={12} />\n          ) : (\n            <SortDescIcon size={12} />\n          )}\n        </div>\n      )}\n      {statisticConfig?.tableConfig?.notes && (\n        <Tooltip message={t(statisticConfig.tableConfig.notes)}>\n          <InfoIcon size={14} />\n        </Tooltip>\n      )}\n      <div>\n        {t(\n         \n            statisticConfig?.tableConfig?.displayName ||\n              statisticConfig.displayName\n          \n        )}\n      </div>\n    </div>\n  );\n}\n\nconst isStateHeaderCellEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.sortData, currProps.sortData)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nexport default memo(StateHeaderCell, isStateHeaderCellEqual);\n"]},"metadata":{},"sourceType":"module"}