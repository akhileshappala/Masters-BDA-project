{"ast":null,"code":"var _jsxFileName = \"/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Search.js\",\n    _s = $RefreshSig$();\n\nimport { API_DOMAIN, STATE_CODES_ARRAY, STATE_CODES, STATE_NAMES, UNASSIGNED_STATE_CODE, UNKNOWN_DISTRICT_KEY } from '../constants';\nimport produce from 'immer';\nimport { memo, useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport * as Icon from 'react-feather';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useDebounce, useKeyPressEvent, useUpdateEffect } from 'react-use';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst suggestions = ['Madurai', 'Karnataka', 'Ladakh', 'Mumbai', 'Andhra Pradesh', 'Alappuzha'];\nconst districtSuggestions = ['Madurai', 'Ganjam', 'Alappuzha', 'Mumbai', 'Chennai'];\nconst stateSuggestions = ['Andhra Pradesh', 'Karnataka', 'Gujarat', 'West Bengal', 'Ladakh'];\n\nfunction Search() {\n  _s();\n\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n  const {\n    t\n  } = useTranslation();\n  const [engine, setEngine] = useState(null);\n  const [districtEngine, setDistrictEngine] = useState(null);\n  useUpdateEffect(() => {\n    import('corejs-typeahead').then(Bloodhound => {\n      setEngine( // eslint-disable-next-line\n      new Bloodhound.default({\n        initialize: true,\n        local: STATE_CODES_ARRAY.filter(({\n          code\n        }) => code !== UNASSIGNED_STATE_CODE),\n        queryTokenizer: Bloodhound.default.tokenizers.whitespace,\n        datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace('name')\n      }));\n      setDistrictEngine( // eslint-disable-next-line\n      new Bloodhound.default({\n        initialize: true,\n        limit: 5,\n        queryTokenizer: Bloodhound.default.tokenizers.whitespace,\n        datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace('district'),\n        indexRemote: true,\n        remote: {\n          url: `${API_DOMAIN}/state_district_wise.json`,\n          transform: function (response) {\n            const districts = [];\n            Object.keys(response).filter(stateName => stateName !== 'State Unassigned').map(stateName => {\n              const districtData = response[stateName].districtData;\n              Object.keys(districtData).filter(districtName => districtName !== UNKNOWN_DISTRICT_KEY).map(districtName => {\n                return districts.push({\n                  district: districtName,\n                  state: stateName\n                });\n              });\n              return null;\n            });\n            return districts;\n          }\n        }\n      }));\n    });\n  }, [expand]);\n  const handleSearch = useCallback(searchInput => {\n    if (!engine) return null;\n    const results = [];\n\n    const sync = datums => {\n      datums.map((result, index) => {\n        const stateObj = {\n          name: result.name,\n          type: 'state',\n          route: result.code\n        };\n        results.push(stateObj);\n        return null;\n      });\n    };\n\n    const districtSync = datums => {\n      datums.slice(0, 3).map((result, index) => {\n        const districtObj = {\n          name: result.district,\n          type: 'district',\n          route: STATE_CODES[result.state]\n        };\n        results.push(districtObj);\n        return null;\n      });\n      setResults([...results]);\n    };\n\n    engine.search(searchInput, sync);\n    districtEngine.search(searchInput, districtSync);\n  }, [districtEngine, engine]);\n  useDebounce(() => {\n    if (searchValue) {\n      handleSearch(searchValue);\n    } else {\n      setResults(produce(results, draftResults => {\n        draftResults.splice(0);\n      }));\n    }\n  }, 100, [searchValue]);\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(prototype, 'value').set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n\n  const fillPlaceholder = useCallback((target, index, cursorPosition, callback) => {\n    if (expand) {\n      target.textContent = '';\n      return true;\n    }\n\n    const text = t(suggestions[index]);\n    const placeholder = target.textContent;\n    target.classList.remove('disappear');\n    target.textContent = placeholder + text[cursorPosition];\n\n    if (cursorPosition < text.length - 1) {\n      setTimeout(function () {\n        fillPlaceholder(target, index, cursorPosition + 1, callback);\n      }, 200);\n      return true;\n    }\n\n    callback();\n  }, [expand, t]);\n  const clearPlaceholder = useCallback((target, callback) => {\n    const placeholder = target.textContent;\n    target.classList.add('disappear');\n\n    if (placeholder.length > 0) {\n      setTimeout(function () {\n        target.textContent = '';\n        clearPlaceholder(target, callback);\n      }, 1000);\n      return true;\n    }\n\n    callback();\n  }, []);\n  const loopThroughSuggestions = useCallback((target, index) => {\n    if (expand) {\n      target.textContent = '';\n      return true;\n    }\n\n    fillPlaceholder(target, index, 0, function () {\n      setTimeout(function () {\n        clearPlaceholder(target, function () {\n          loopThroughSuggestions(target, (index + 1) % suggestions.length);\n        });\n      }, 2000);\n    });\n  }, [clearPlaceholder, expand, fillPlaceholder]);\n  useEffect(() => {\n    if (!expand) {\n      const targetInput = document.getElementsByClassName('search-placeholder')[0];\n\n      if (targetInput) {\n        loopThroughSuggestions(targetInput, 0);\n      }\n    }\n  }, [expand, loopThroughSuggestions]);\n  const trail = useMemo(() => {\n    const styles = [];\n    [0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n  const handleClose = useCallback(() => {\n    setSearchValue('');\n    setResults([]);\n  }, []);\n  const handleChange = useCallback(event => {\n    setSearchValue(event.target.value);\n  }, []);\n  useKeyPressEvent('/', () => {\n    searchInput.current.focus();\n  });\n  useKeyPressEvent('Escape', () => {\n    handleClose();\n    searchInput.current.blur();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Search\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"fadeInUp\",\n      style: trail[0],\n      children: t('Search your district or state')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"line fadeInUp\",\n      style: trail[1]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-input-wrapper fadeInUp\",\n      style: trail[2],\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchValue,\n        ref: searchInput,\n        onFocus: setExpand.bind(this, true),\n        onBlur: setExpand.bind(this, false),\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), !expand && searchValue === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"search-placeholder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `search-button`,\n        children: /*#__PURE__*/_jsxDEV(Icon.Search, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), searchValue.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `close-button`,\n        onClick: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Icon.X, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results\",\n      children: results.map((result, index) => /*#__PURE__*/_jsxDEV(Link, {\n        to: `state/${result.route}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-name\",\n              children: [`${result.name}`, result.type === 'district' && `, ${STATE_NAMES[result.route]}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [result.route]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Icon.ArrowRightCircle, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this), expand && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expanded\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expanded-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: t('District')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestions\",\n            children: districtSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                onMouseDown: event => {\n                  event.preventDefault();\n                  setNativeValue(searchInput.current, suggestion);\n                  searchInput.current.dispatchEvent(new Event('input', {\n                    bubbles: true\n                  }));\n                },\n                children: t(suggestion)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expanded-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: t('State/UT')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestions\",\n            children: stateSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                onMouseDown: event => {\n                  event.preventDefault();\n                  setNativeValue(searchInput.current, suggestion);\n                  searchInput.current.dispatchEvent(new Event('input', {\n                    bubbles: true\n                  }));\n                },\n                children: t(suggestion)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"QJ71OzB6NXawYRzM3fJ3npmwSOI=\", false, function () {\n  return [useTranslation, useUpdateEffect, useDebounce, useKeyPressEvent, useKeyPressEvent];\n});\n\n_c = Search;\n\nconst isEqual = () => {\n  return true;\n};\n\nexport default _c2 = /*#__PURE__*/memo(Search, isEqual);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Search\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Search.js"],"names":["API_DOMAIN","STATE_CODES_ARRAY","STATE_CODES","STATE_NAMES","UNASSIGNED_STATE_CODE","UNKNOWN_DISTRICT_KEY","produce","memo","useState","useEffect","useMemo","useCallback","useRef","Icon","useTranslation","Link","useDebounce","useKeyPressEvent","useUpdateEffect","suggestions","districtSuggestions","stateSuggestions","Search","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","t","engine","setEngine","districtEngine","setDistrictEngine","then","Bloodhound","default","initialize","local","filter","code","queryTokenizer","tokenizers","whitespace","datumTokenizer","obj","limit","indexRemote","remote","url","transform","response","districts","Object","keys","stateName","map","districtData","districtName","push","district","state","handleSearch","sync","datums","result","index","stateObj","name","type","route","districtSync","slice","districtObj","search","draftResults","splice","setNativeValue","element","value","valueSetter","getOwnPropertyDescriptor","set","prototype","getPrototypeOf","prototypeValueSetter","call","fillPlaceholder","target","cursorPosition","callback","textContent","text","placeholder","classList","remove","length","setTimeout","clearPlaceholder","add","loopThroughSuggestions","targetInput","document","getElementsByClassName","trail","styles","animationDelay","handleClose","handleChange","event","current","focus","blur","bind","suggestion","preventDefault","dispatchEvent","Event","bubbles","isEqual"],"mappings":"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","sourcesContent":["import {\n  API_DOMAIN,\n  STATE_CODES_ARRAY,\n  STATE_CODES,\n  STATE_NAMES,\n  UNASSIGNED_STATE_CODE,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\n\nimport produce from 'immer';\nimport {memo, useState, useEffect, useMemo, useCallback, useRef} from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {useDebounce, useKeyPressEvent, useUpdateEffect} from 'react-use';\n\nconst suggestions = [\n  'Madurai',\n  'Karnataka',\n  'Ladakh',\n  'Mumbai',\n  'Andhra Pradesh',\n  'Alappuzha',\n];\n\nconst districtSuggestions = [\n  'Madurai',\n  'Ganjam',\n  'Alappuzha',\n  'Mumbai',\n  'Chennai',\n];\n\nconst stateSuggestions = [\n  'Andhra Pradesh',\n  'Karnataka',\n  'Gujarat',\n  'West Bengal',\n  'Ladakh',\n];\n\nfunction Search() {\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n  const {t} = useTranslation();\n\n  const [engine, setEngine] = useState(null);\n  const [districtEngine, setDistrictEngine] = useState(null);\n\n  useUpdateEffect(() => {\n    import('corejs-typeahead').then((Bloodhound) => {\n      setEngine(\n        // eslint-disable-next-line\n        new Bloodhound.default({\n          initialize: true,\n          local: STATE_CODES_ARRAY.filter(\n            ({code}) => code !== UNASSIGNED_STATE_CODE\n          ),\n          queryTokenizer: Bloodhound.default.tokenizers.whitespace,\n          datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace('name'),\n        })\n      );\n\n      setDistrictEngine(\n        // eslint-disable-next-line\n        new Bloodhound.default({\n          initialize: true,\n          limit: 5,\n          queryTokenizer: Bloodhound.default.tokenizers.whitespace,\n          datumTokenizer:\n            Bloodhound.default.tokenizers.obj.whitespace('district'),\n          indexRemote: true,\n          remote: {\n            url: `${API_DOMAIN}/state_district_wise.json`,\n            transform: function (response) {\n              const districts = [];\n              Object.keys(response)\n                .filter((stateName) => stateName !== 'State Unassigned')\n                .map((stateName) => {\n                  const districtData = response[stateName].districtData;\n                  Object.keys(districtData)\n                    .filter(\n                      (districtName) => districtName !== UNKNOWN_DISTRICT_KEY\n                    )\n                    .map((districtName) => {\n                      return districts.push({\n                        district: districtName,\n                        state: stateName,\n                      });\n                    });\n                  return null;\n                });\n              return districts;\n            },\n          },\n        })\n      );\n    });\n  }, [expand]);\n\n  const handleSearch = useCallback(\n    (searchInput) => {\n      if (!engine) return null;\n      const results = [];\n\n      const sync = (datums) => {\n        datums.map((result, index) => {\n          const stateObj = {\n            name: result.name,\n            type: 'state',\n            route: result.code,\n          };\n          results.push(stateObj);\n          return null;\n        });\n      };\n\n      const districtSync = (datums) => {\n        datums.slice(0, 3).map((result, index) => {\n          const districtObj = {\n            name: result.district,\n            type: 'district',\n            route: STATE_CODES[result.state],\n          };\n          results.push(districtObj);\n          return null;\n        });\n\n        setResults([...results]);\n      };\n\n      engine.search(searchInput, sync);\n      districtEngine.search(searchInput, districtSync);\n    },\n    [districtEngine, engine]\n  );\n\n  useDebounce(\n    () => {\n      if (searchValue) {\n        handleSearch(searchValue);\n      } else {\n        setResults(\n          produce(results, (draftResults) => {\n            draftResults.splice(0);\n          })\n        );\n      }\n    },\n    100,\n    [searchValue]\n  );\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(\n      prototype,\n      'value'\n    ).set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n\n  const fillPlaceholder = useCallback(\n    (target, index, cursorPosition, callback) => {\n      if (expand) {\n        target.textContent = '';\n        return true;\n      }\n      const text = t(suggestions[index]);\n      const placeholder = target.textContent;\n      target.classList.remove('disappear');\n      target.textContent = placeholder + text[cursorPosition];\n      if (cursorPosition < text.length - 1) {\n        setTimeout(function () {\n          fillPlaceholder(target, index, cursorPosition + 1, callback);\n        }, 200);\n        return true;\n      }\n      callback();\n    },\n    [expand, t]\n  );\n\n  const clearPlaceholder = useCallback((target, callback) => {\n    const placeholder = target.textContent;\n    target.classList.add('disappear');\n    if (placeholder.length > 0) {\n      setTimeout(function () {\n        target.textContent = '';\n        clearPlaceholder(target, callback);\n      }, 1000);\n      return true;\n    }\n    callback();\n  }, []);\n\n  const loopThroughSuggestions = useCallback(\n    (target, index) => {\n      if (expand) {\n        target.textContent = '';\n        return true;\n      }\n\n      fillPlaceholder(target, index, 0, function () {\n        setTimeout(function () {\n          clearPlaceholder(target, function () {\n            loopThroughSuggestions(target, (index + 1) % suggestions.length);\n          });\n        }, 2000);\n      });\n    },\n    [clearPlaceholder, expand, fillPlaceholder]\n  );\n\n  useEffect(() => {\n    if (!expand) {\n      const targetInput =\n        document.getElementsByClassName('search-placeholder')[0];\n\n      if (targetInput) {\n        loopThroughSuggestions(targetInput, 0);\n      }\n    }\n  }, [expand, loopThroughSuggestions]);\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`,\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setSearchValue('');\n    setResults([]);\n  }, []);\n\n  const handleChange = useCallback((event) => {\n    setSearchValue(event.target.value);\n  }, []);\n\n  useKeyPressEvent('/', () => {\n    searchInput.current.focus();\n  });\n\n  useKeyPressEvent('Escape', () => {\n    handleClose();\n    searchInput.current.blur();\n  });\n\n  return (\n    <div className=\"Search\">\n      <label className=\"fadeInUp\" style={trail[0]}>\n        {t('Search your district or state')}\n      </label>\n      <div className=\"line fadeInUp\" style={trail[1]}></div>\n\n      <div className=\"search-input-wrapper fadeInUp\" style={trail[2]}>\n        <input\n          type=\"text\"\n          value={searchValue}\n          ref={searchInput}\n          onFocus={setExpand.bind(this, true)}\n          onBlur={setExpand.bind(this, false)}\n          onChange={handleChange}\n        />\n\n        {!expand && searchValue === '' && (\n          <span className=\"search-placeholder\"></span>\n        )}\n\n        <div className={`search-button`}>\n          <Icon.Search />\n        </div>\n\n        {searchValue.length > 0 && (\n          <div className={`close-button`} onClick={handleClose}>\n            <Icon.X />\n          </div>\n        )}\n      </div>\n\n      {results.length > 0 && (\n        <div className=\"results\">\n          {results.map((result, index) => (\n            <Link key={index} to={`state/${result.route}`}>\n              <div className=\"result\">\n                <div className=\"result-left\">\n                  <div className=\"result-name\">\n                    {`${result.name}`}\n                    {result.type === 'district' &&\n                      `, ${STATE_NAMES[result.route]}`}\n                  </div>\n                </div>\n                <div className=\"result-type\">\n                  <span>{[result.route]}</span>\n                  <Icon.ArrowRightCircle size={14} />\n                </div>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n\n      {expand && (\n        <>\n          <div className=\"expanded\">\n            <div className=\"expanded-left\">\n              <h3>{t('District')}</h3>\n              <div className=\"suggestions\">\n                {districtSuggestions.map((suggestion, index) => (\n                  <div className=\"suggestion\" key={index}>\n                    <div>-</div>\n                    <h4\n                      onMouseDown={(event) => {\n                        event.preventDefault();\n                        setNativeValue(searchInput.current, suggestion);\n                        searchInput.current.dispatchEvent(\n                          new Event('input', {bubbles: true})\n                        );\n                      }}\n                    >\n                      {t(suggestion)}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"expanded-right\">\n              <h3>{t('State/UT')}</h3>\n              <div className=\"suggestions\">\n                {stateSuggestions.map((suggestion, index) => (\n                  <div className=\"suggestion\" key={index}>\n                    <div>-</div>\n                    <h4\n                      onMouseDown={(event) => {\n                        event.preventDefault();\n                        setNativeValue(searchInput.current, suggestion);\n                        searchInput.current.dispatchEvent(\n                          new Event('input', {bubbles: true})\n                        );\n                      }}\n                    >\n                      {t(suggestion)}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nconst isEqual = () => {\n  return true;\n};\n\nexport default memo(Search, isEqual);\n"]},"metadata":{},"sourceType":"module"}