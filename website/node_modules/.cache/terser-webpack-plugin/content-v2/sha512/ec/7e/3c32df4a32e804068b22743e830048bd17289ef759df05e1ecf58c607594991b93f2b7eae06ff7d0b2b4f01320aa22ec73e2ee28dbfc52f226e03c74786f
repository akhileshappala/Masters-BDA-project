{"code":"(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[21],{259:function(t,c,n){\"use strict\";n.r(c);var a=n(34),i=n(73),e=n(9),o=n(77),s=n.n(o),l=n(2),r=n(41),d=n.n(r),u=n(83),b=n(290),f=n(19),O=void 0,j=function(t){var c=t.mapStatistic,n=t.setMapStatistic,o=Object(b.a)(),r=Object(i.a)(o,2),j=r[0],p=r[1].width,h=Object(l.useState)(!1),v=Object(i.a)(h,2),g=v[0],m=v[1],x=Object(l.useState)(0),S=Object(i.a)(x,2),k=S[0],w=S[1],y=e.i.indexOf(c)>=0,N=Object(u.useSpring)((function(){return{opacity:0,background:\"\".concat(e.q[c].color,\"20\"),transform:y?\"translate3d(\".concat(p*e.i.indexOf(c)/e.i.length,\"px, 0, 0)\"):null,width:\"calc(\".concat(100/e.i.length,\"%)\"),config:u.config.gentle}})),q=Object(i.a)(N,2),C=q[0],J=q[1];Object(l.useEffect)((function(){if(p>0){var t=e.i.indexOf(c)>=0;d.a.unstable_batchedUpdates((function(){var n;J.start({transform:t?\"translate3d(\".concat(p*e.i.indexOf(c)/e.i.length,\"px, 0, 0)\"):null,opacity:t?1:0,background:t?\"\".concat(null===(n=e.q[c])||void 0===n?void 0:n.color,\"20\"):null,delay:0===k?1500:0,onStart:m.bind(O,!0),onRest:m.bind(O,!1)})}))}}),[k,c,J,p]);var M=Object(l.useCallback)((function(t){w((function(t){return t+1})),n(t)}),[n]);return Object(f.jsxs)(\"div\",{className:\"MapSwitcher\",ref:j,children:[Object(f.jsx)(u.animated.div,{className:\"highlight\",style:C}),e.i.map((function(t,c){return Object(f.jsx)(\"div\",{className:s()(\"clickable\",Object(a.a)({},\"is-\".concat(t),!g)),onClick:M.bind(O,t),style:{width:\"calc(\".concat(100/e.i.length,\"%)\")}},c)}))]})},p=function(t,c){return t.mapStatistic===c.mapStatistic};c.default=Object(l.memo)(j,p)}}]);","name":"static/js/21.f3846dcd.chunk.js","map":{"version":3,"sources":["static/js/21.f3846dcd.chunk.js"],"names":["this","push","259","module","__webpack_exports__","__webpack_require__","r","_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_constants__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_3___default","n","react__WEBPACK_IMPORTED_MODULE_4__","react_dom__WEBPACK_IMPORTED_MODULE_5__","react_dom__WEBPACK_IMPORTED_MODULE_5___default","react_spring__WEBPACK_IMPORTED_MODULE_6__","react_use__WEBPACK_IMPORTED_MODULE_7__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__","_this","undefined","MapSwitcher","_ref","mapStatistic","setMapStatistic","_useMeasure","Object","_useMeasure2","mapSwitcher","width","_useState","_useState2","clicked","setClicked","_useState3","_useState4","count","setCount","isPresent","indexOf","_useSpring","opacity","background","concat","color","transform","length","config","gentle","_useSpring2","spring","springApi","_isPresent","a","unstable_batchedUpdates","_STATISTIC_CONFIGS$ma","start","delay","onStart","bind","onRest","handleClick","statistic","prevCount","className","ref","children","div","style","map","index","onClick","isEqual","prevProps","currProps"],"mappings":"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"},"input":"(this[\"webpackJsonpcovid19india\"] = this[\"webpackJsonpcovid19india\"] || []).push([[21],{\n\n/***/ 259:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34);\n/* harmony import */ var _Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_spring__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(83);\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(290);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(19);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);\nvar _this=undefined;var MapSwitcher=function MapSwitcher(_ref){var mapStatistic=_ref.mapStatistic,setMapStatistic=_ref.setMapStatistic;var _useMeasure=Object(react_use__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(),_useMeasure2=Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useMeasure,2),mapSwitcher=_useMeasure2[0],width=_useMeasure2[1].width;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState2=Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState4=Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState3,2),count=_useState4[0],setCount=_useState4[1];var isPresent=_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].indexOf(mapStatistic)>=0;var _useSpring=Object(react_spring__WEBPACK_IMPORTED_MODULE_6__[\"useSpring\"])(function(){return{opacity:0,background:\"\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__[/* STATISTIC_CONFIGS */ \"q\"][mapStatistic].color,\"20\"),transform:isPresent?\"translate3d(\".concat(width*_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].indexOf(mapStatistic)/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].length,\"px, 0, 0)\"):null,width:\"calc(\".concat(100/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].length,\"%)\"),config:react_spring__WEBPACK_IMPORTED_MODULE_6__[\"config\"].gentle};}),_useSpring2=Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useSpring,2),spring=_useSpring2[0],springApi=_useSpring2[1];Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){if(width>0){var _isPresent=_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].indexOf(mapStatistic)>=0;react_dom__WEBPACK_IMPORTED_MODULE_5___default.a.unstable_batchedUpdates(function(){var _STATISTIC_CONFIGS$ma;springApi.start({transform:_isPresent?\"translate3d(\".concat(width*_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].indexOf(mapStatistic)/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].length,\"px, 0, 0)\"):null,opacity:_isPresent?1:0,background:_isPresent?\"\".concat((_STATISTIC_CONFIGS$ma=_constants__WEBPACK_IMPORTED_MODULE_2__[/* STATISTIC_CONFIGS */ \"q\"][mapStatistic])===null||_STATISTIC_CONFIGS$ma===void 0?void 0:_STATISTIC_CONFIGS$ma.color,\"20\"):null,delay:count===0?1500:0,onStart:setClicked.bind(_this,true),onRest:setClicked.bind(_this,false)});});}},[count,mapStatistic,springApi,width]);var handleClick=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])(function(statistic){setCount(function(prevCount){return prevCount+1;});setMapStatistic(statistic);},[setMapStatistic]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{className:\"MapSwitcher\",ref:mapSwitcher,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_spring__WEBPACK_IMPORTED_MODULE_6__[\"animated\"].div,{className:\"highlight\",style:spring}),_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].map(function(statistic,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"div\",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()('clickable',Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},\"is-\".concat(statistic),!clicked)),onClick:handleClick.bind(_this,statistic),style:{width:\"calc(\".concat(100/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"i\"].length,\"%)\")}},index);})]});};var isEqual=function isEqual(prevProps,currProps){if(prevProps.mapStatistic!==currProps.mapStatistic){return false;}return true;};/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"memo\"])(MapSwitcher,isEqual));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/MapSwitcher.js"],"names":["MapSwitcher","mapStatistic","setMapStatistic","useMeasure","mapSwitcher","width","useState","clicked","setClicked","count","setCount","isPresent","LEVEL_STATISTICS","indexOf","useSpring","opacity","background","STATISTIC_CONFIGS","color","transform","length","config","gentle","spring","springApi","useEffect","ReactDOM","unstable_batchedUpdates","start","delay","onStart","bind","onRest","handleClick","useCallback","statistic","prevCount","map","index","classnames","isEqual","prevProps","currProps","memo"],"mappings":"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","file":"x","sourcesContent":["import {LEVEL_STATISTICS, STATISTIC_CONFIGS} from '../constants';\n\nimport classnames from 'classnames';\nimport {memo, useState, useCallback, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport {useSpring, animated, config} from 'react-spring';\nimport {useMeasure} from 'react-use';\n\nconst MapSwitcher = ({mapStatistic, setMapStatistic}) => {\n  const [mapSwitcher, {width}] = useMeasure();\n  const [clicked, setClicked] = useState(false);\n  const [count, setCount] = useState(0);\n\n  const isPresent = LEVEL_STATISTICS.indexOf(mapStatistic) >= 0;\n\n  const [spring, springApi] = useSpring(() => ({\n    opacity: 0,\n    background: `${STATISTIC_CONFIGS[mapStatistic].color}20`,\n    transform: isPresent\n      ? `translate3d(${\n          (width * LEVEL_STATISTICS.indexOf(mapStatistic)) /\n          LEVEL_STATISTICS.length\n        }px, 0, 0)`\n      : null,\n    width: `calc(${100 / LEVEL_STATISTICS.length}%)`,\n    config: config.gentle,\n  }));\n\n  useEffect(() => {\n    if (width > 0) {\n      const isPresent = LEVEL_STATISTICS.indexOf(mapStatistic) >= 0;\n      ReactDOM.unstable_batchedUpdates(() => {\n        springApi.start({\n          transform: isPresent\n            ? `translate3d(${\n                (width * LEVEL_STATISTICS.indexOf(mapStatistic)) /\n                LEVEL_STATISTICS.length\n              }px, 0, 0)`\n            : null,\n          opacity: isPresent ? 1 : 0,\n          background: isPresent\n            ? `${STATISTIC_CONFIGS[mapStatistic]?.color}20`\n            : null,\n          delay: count === 0 ? 1500 : 0,\n          onStart: setClicked.bind(this, true),\n          onRest: setClicked.bind(this, false),\n        });\n      });\n    }\n  }, [count, mapStatistic, springApi, width]);\n\n  const handleClick = useCallback(\n    (statistic) => {\n      setCount((prevCount) => prevCount + 1);\n      setMapStatistic(statistic);\n    },\n    [setMapStatistic]\n  );\n\n  return (\n    <div className=\"MapSwitcher\" ref={mapSwitcher}>\n      <animated.div className=\"highlight\" style={spring}></animated.div>\n\n      {LEVEL_STATISTICS.map((statistic, index) => (\n        <div\n          key={index}\n          className={classnames('clickable', {[`is-${statistic}`]: !clicked})}\n          onClick={handleClick.bind(this, statistic)}\n          style={{width: `calc(${100 / LEVEL_STATISTICS.length}%)`}}\n        ></div>\n      ))}\n    </div>\n  );\n};\n\nconst isEqual = (prevProps, currProps) => {\n  if (prevProps.mapStatistic !== currProps.mapStatistic) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(MapSwitcher, isEqual);\n"]}}