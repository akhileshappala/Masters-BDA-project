{"ast":null,"code":"import{UPDATES_COUNT}from'../constants';import{capitalize}from'../utils/commonFunctions';import{CrossReferenceIcon}from'@primer/octicons-react';import{format,formatDistance}from'date-fns';import{Fragment,useLayoutEffect}from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var newDate=new Date();var currentDate=newDate;function Updates(_ref){var updates=_ref.updates;var _useTranslation=useTranslation(),t=_useTranslation.t;useLayoutEffect(function(){currentDate=newDate;});return/*#__PURE__*/_jsxs(\"div\",{className:\"updates\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"updates-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:format(currentDate,'d MMM')})}),updates.slice(-UPDATES_COUNT).reverse().map(function(activity,index){activity.update=activity.update.trim().replace(/\\n/g,'<br/>');activity.update=activity.update.replace(/\\t/g,\"\\u2003\");var activityDate=new Date(activity.timestamp*1000);var addHeader=function addHeader(){currentDate=activityDate;return/*#__PURE__*/_jsxs(_Fragment,{children:[index===0?/*#__PURE__*/_jsx(\"div\",{className:\"update\",children:/*#__PURE__*/_jsx(\"h4\",{children:t('No updates yet!')})}):'',/*#__PURE__*/_jsx(\"div\",{className:\"updates-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:format(activityDate,'d MMM')})})]});};return/*#__PURE__*/_jsxs(Fragment,{children:[activityDate.getDate()!==currentDate.getDate()?addHeader():' ',/*#__PURE__*/_jsxs(\"div\",{className:\"update\",children:[/*#__PURE__*/_jsx(\"h5\",{children:capitalize(formatDistance(new Date(activity.timestamp*1000),new Date()))+\" \".concat(t('ago'))}),/*#__PURE__*/_jsx(\"h4\",{dangerouslySetInnerHTML:{__html:activity.update}})]},index)]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"updates-footer\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://t.me/covid19indiaorg_updates\",target:\"_blank\",className:\"telegram\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[t('Get updates on Telegram'),/*#__PURE__*/_jsx(CrossReferenceIcon,{})]})})})]});}export default Updates;","map":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Updates.js"],"names":["UPDATES_COUNT","capitalize","CrossReferenceIcon","format","formatDistance","Fragment","useLayoutEffect","useTranslation","newDate","Date","currentDate","Updates","updates","t","slice","reverse","map","activity","index","update","trim","replace","activityDate","timestamp","addHeader","getDate","__html"],"mappings":"AAAA,OAAQA,aAAR,KAA4B,cAA5B,CACA,OAAQC,UAAR,KAAyB,0BAAzB,CAEA,OAAQC,kBAAR,KAAiC,wBAAjC,CACA,OAAQC,MAAR,CAAgBC,cAAhB,KAAqC,UAArC,CACA,OAAQC,QAAR,CAAkBC,eAAlB,KAAwC,OAAxC,CACA,OAAQC,cAAR,KAA6B,eAA7B,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAhB,CACA,GAAIC,CAAAA,WAAW,CAAGF,OAAlB,CAEA,QAASG,CAAAA,OAAT,MAA4B,IAAVC,CAAAA,OAAU,MAAVA,OAAU,CAC1B,oBAAYL,cAAc,EAA1B,CAAOM,CAAP,iBAAOA,CAAP,CAEAP,eAAe,CAAC,UAAM,CACpBI,WAAW,CAAGF,OAAd,CACD,CAFc,CAAf,CAIA,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,oBAAKL,MAAM,CAACO,WAAD,CAAc,OAAd,CAAX,EADF,EADF,CAKGE,OAAO,CACLE,KADF,CACQ,CAACd,aADT,EAEEe,OAFF,GAGEC,GAHF,CAGM,SAAUC,QAAV,CAAoBC,KAApB,CAA2B,CAC9BD,QAAQ,CAACE,MAAT,CAAkBF,QAAQ,CAACE,MAAT,CAAgBC,IAAhB,GAAuBC,OAAvB,CAA+B,KAA/B,CAAsC,OAAtC,CAAlB,CACAJ,QAAQ,CAACE,MAAT,CAAkBF,QAAQ,CAACE,MAAT,CAAgBE,OAAhB,CAAwB,KAAxB,CAA+B,QAA/B,CAAlB,CACA,GAAMC,CAAAA,YAAY,CAAG,GAAIb,CAAAA,IAAJ,CAASQ,QAAQ,CAACM,SAAT,CAAqB,IAA9B,CAArB,CACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBd,WAAW,CAAGY,YAAd,CAEA,mBACE,2BACGJ,KAAK,GAAK,CAAV,cACC,YAAK,SAAS,CAAC,QAAf,uBACE,oBAAKL,CAAC,CAAC,iBAAD,CAAN,EADF,EADD,CAKC,EANJ,cAQE,YAAK,SAAS,CAAC,gBAAf,uBACE,oBAAKV,MAAM,CAACmB,YAAD,CAAe,OAAf,CAAX,EADF,EARF,GADF,CAcD,CAjBD,CAmBA,mBACE,MAAC,QAAD,YACGA,YAAY,CAACG,OAAb,KAA2Bf,WAAW,CAACe,OAAZ,EAA3B,CACGD,SAAS,EADZ,CAEG,GAHN,cAIE,aAAiB,SAAS,CAAC,QAA3B,wBACE,oBACGvB,UAAU,CACTG,cAAc,CACZ,GAAIK,CAAAA,IAAJ,CAASQ,QAAQ,CAACM,SAAT,CAAqB,IAA9B,CADY,CAEZ,GAAId,CAAAA,IAAJ,EAFY,CADL,CAAV,YAKOI,CAAC,CAAC,KAAD,CALR,CADH,EADF,cASE,WACE,uBAAuB,CAAE,CACvBa,MAAM,CAAET,QAAQ,CAACE,MADM,CAD3B,EATF,GAAUD,KAAV,CAJF,GAAeA,KAAf,CADF,CAsBD,CAhDF,CALH,cAsDE,YAAK,SAAS,CAAC,gBAAf,uBACE,UACE,IAAI,CAAC,sCADP,CAEE,MAAM,CAAC,QAFT,CAGE,SAAS,CAAC,UAHZ,CAIE,GAAG,CAAC,qBAJN,uBAME,sBACGL,CAAC,CAAC,yBAAD,CADJ,cAEE,KAAC,kBAAD,IAFF,GANF,EADF,EAtDF,GADF,CAsED,CAED,cAAeF,CAAAA,OAAf","sourcesContent":["import {UPDATES_COUNT} from '../constants';\nimport {capitalize} from '../utils/commonFunctions';\n\nimport {CrossReferenceIcon} from '@primer/octicons-react';\nimport {format, formatDistance} from 'date-fns';\nimport {Fragment, useLayoutEffect} from 'react';\nimport {useTranslation} from 'react-i18next';\n\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates({updates}) {\n  const {t} = useTranslation();\n\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n\n  return (\n    <div className=\"updates\">\n      <div className=\"updates-header\">\n        <h2>{format(currentDate, 'd MMM')}</h2>\n      </div>\n\n      {updates\n        .slice(-UPDATES_COUNT)\n        .reverse()\n        .map(function (activity, index) {\n          activity.update = activity.update.trim().replace(/\\n/g, '<br/>');\n          activity.update = activity.update.replace(/\\t/g, '\\u2003');\n          const activityDate = new Date(activity.timestamp * 1000);\n          const addHeader = () => {\n            currentDate = activityDate;\n\n            return (\n              <>\n                {index === 0 ? (\n                  <div className=\"update\">\n                    <h4>{t('No updates yet!')}</h4>\n                  </div>\n                ) : (\n                  ''\n                )}\n                <div className=\"updates-header\">\n                  <h2>{format(activityDate, 'd MMM')}</h2>\n                </div>\n              </>\n            );\n          };\n\n          return (\n            <Fragment key={index}>\n              {activityDate.getDate() !== currentDate.getDate()\n                ? addHeader()\n                : ' '}\n              <div key={index} className=\"update\">\n                <h5>\n                  {capitalize(\n                    formatDistance(\n                      new Date(activity.timestamp * 1000),\n                      new Date()\n                    )\n                  ) + ` ${t('ago')}`}\n                </h5>\n                <h4\n                  dangerouslySetInnerHTML={{\n                    __html: activity.update,\n                  }}\n                ></h4>\n              </div>\n            </Fragment>\n          );\n        })}\n      <div className=\"updates-footer\">\n        <a\n          href=\"https://t.me/covid19indiaorg_updates\"\n          target=\"_blank\"\n          className=\"telegram\"\n          rel=\"noopener noreferrer\"\n        >\n          <h4>\n            {t('Get updates on Telegram')}\n            <CrossReferenceIcon />\n          </h4>\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Updates;\n"]},"metadata":{},"sourceType":"module"}