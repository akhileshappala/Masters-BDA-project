{"version":3,"sources":["../node_modules/react-use/esm/useUpdateEffect.js","../node_modules/react-use/esm/useFirstMountState.js","../node_modules/dequal/lite/index.mjs","../node_modules/swr/esm/libs/hash.js","../node_modules/swr/esm/cache.js","../node_modules/swr/esm/libs/web-preset.js","../node_modules/swr/esm/config.js","../node_modules/swr/esm/env.js","../node_modules/swr/esm/swr-config-context.js","../node_modules/swr/esm/use-swr.js","../node_modules/swr/esm/index.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","../node_modules/react-helmet/es/Helmet.js","../node_modules/react-side-effect/lib/index.js","../node_modules/react-fast-compare/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-use/esm/useLocalStorage.js","../node_modules/react-use/esm/useSessionStorage.js","../node_modules/date-fns/esm/max/index.js","../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../node_modules/classnames/index.js","../../src/utils/errors.ts","../../src/utils/common.ts","../../src/types/types-internal.ts","../../src/utils/plugins.ts","../../src/core/scope.ts","../../src/core/finalize.ts","../../src/core/proxy.ts","../../src/core/immerClass.ts","../../src/core/current.ts","../../src/immer.ts","../../src/utils/env.ts"],"names":["useUpdateEffect","effect","deps","isFirstMount","isFirst","useRef","current","useFirstMountState","useEffect","has","Object","prototype","hasOwnProperty","table","WeakMap","counter","Cache","initialData","this","cache","Map","entries","subs","get","key","_key","serializeKey","set","value","notify","keys","Array","from","clear","delete","args","err","isArray","length","i","_hash","String","hash","subscribe","listener","_this","Error","isSubscribed","push","index","indexOf","_i","_a","online","isOnline","isDocumentVisible","document","undefined","visibilityState","fetcher","url","fetch","then","res","json","registerOnFocus","cb","window","addEventListener","registerOnReconnect","__assign","assign","t","s","n","arguments","p","call","apply","slowConnection","navigator","effectiveType","defaultConfig","onLoadingSlow","onSuccess","onError","onErrorRetry","_","__","config","revalidate","opts","errorRetryCount","retryCount","count","Math","min","timeout","random","errorRetryInterval","setTimeout","focusThrottleInterval","dedupingInterval","loadingTimeout","refreshInterval","revalidateOnFocus","revalidateOnReconnect","refreshWhenHidden","refreshWhenOffline","shouldRetryOnError","suspense","compare","dequal","foo","bar","ctor","len","constructor","Date","getTime","RegExp","toString","isPaused","webPreset","IS_SERVER","Deno","version","deno","rAF","f","useIsomorphicLayoutEffect","useLayoutEffect","SWRConfigContext","createContext","displayName","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","__generator","body","y","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","CONCURRENT_PROMISES","CONCURRENT_PROMISES_TS","FOCUS_REVALIDATORS","RECONNECT_REVALIDATORS","CACHE_REVALIDATORS","MUTATION_TS","MUTATION_END_TS","now","ts","revalidate_1","revalidators","trigger","shouldRevalidate","keyErr","keyValidating","updaters","currentData","currentError","currentIsValidating","promises","all","broadcastState","data","error","isValidating","mutate","_data","beforeMutationTs","beforeConcurrentPromisesTs","isAsyncMutation","err_1","shouldAbort","_b","defineProperty","Provider","useSWR","useContext","fn","fnArgs","configRef","willRevalidateOnMount","revalidateOnMount","resolveData","cachedData","resolveIsValidating","initialError","initialIsValidating","stateDependencies","stateRef","useDebugValue","latestData","latestError","rerender","useState","dispatch","useCallback","payload","shouldUpdateState","k","unmountedRef","initialMountedRef","keyRef","eventsCallback","event","params","boundMutate","addRevalidator","callback","keyedRevalidators","revalidateOpts","dedupe","loading","shouldDeduping","newData","startAt","newState","err_2","_c","isUpdating","currentHookData","latestKeyedData","softRevalidate","pending","unsubFocus","unsubReconnect","unsubUpdate","updatedData","updatedError","updatedIsValidating","needUpdate","timer","tick","clearTimeout","memoizedState","useMemo","state","defineProperties","enumerable","SVG","animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title","fixedId","substring","idClip","idGradient","idAria","rtlStyle","transform","keyTimes","dur","React.createElement","role","props","id","x","width","height","clipPath","fill","offset","stopColor","stopOpacity","attributeName","values","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","rx","cx","cy","r","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","map","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","obj","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","instance","Constructor","createClass","target","descriptor","configurable","writable","protoProps","staticProps","_extends","source","objectWithoutProperties","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","str","encode","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","join","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","forEach","tagUnion","objectAssign","property","rafPolyfill","clock","currentTime","cafPolyfill","requestAnimationFrame","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","commitTagChanges","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","React","generateTitleAsReactComponent","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","HelmetExport","Component","_class","_temp","_React$Component","HelmetWrapper","subClass","superClass","create","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","isEqual","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","canUseDOM","propTypes","PropTypes","object","oneOfType","arrayOf","node","defaultTitle","defer","bool","func","titleTemplate","peek","rewind","mappedState","Helmet","withSideEffect","renderStatic","ex","require","React__default","_defineProperty","module","exports","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","getDisplayName","hasElementType","Element","hasMap","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","a","b","it","size","flags","valueOf","$$typeof","message","match","_objectWithoutProperties","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","useLocalStorage","initialValue","options","isBrowser","noop","deserializer","raw","JSON","parse","initializer","serializer","stringify","localStorageValue","localStorage","getItem","setItem","setState","valOrFunc","remove","removeItem","useSessionStorage","sessionStorageValue","sessionStorage","serializedState","max","dirtyDatesArray","datesArray","requiredArgs","NaN","dirtyDate","currentDate","toDate","isNaN","Number","defaultState","top","left","bottom","right","ResizeObserver","element","ref","rect","setRect","observer","contentRect","top_1","observe","disconnect","hasOwn","classNames","classes","arg","argType","inner","default","die","isDraft","DRAFT_STATE","isDraftable","proto","getPrototypeOf","Ctor","Function","objectCtorString","DRAFTABLE","isMap","isSet","each","iter","enumerableOnly","getArchtype","ownKeys","entry","thing","type_","prop","propOrOldValue","add","is","latest","copy_","base_","shallowCopy","descriptors","getOwnPropertyDescriptors","desc","freeze","deep","isFrozen","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","getCurrentScope","currentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","baseDraft","isReplaced","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","path","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","assigned_","autoFreeze_","getDescriptorFromProto","getOwnPropertyDescriptor","markChanged","prepareCopy","createProxy","parent","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createES5Proxy_","currentImpl","copy","archType","hasChanges_","copyHelper","hasSymbol","hasProxies","Reflect","for","getOwnPropertyNames","currentState","deleteProperty","owner","recipe","defaultBase","produce","hasError","arg1","arg2","produceWithPatches","ip","patches","inversePatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","patch","applyPatchesImpl","applyPatches_"],"mappings":"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","file":"static/js/7.e30f23fa.chunk.js","sourcesContent":["import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nvar table = new WeakMap();\n// counter of the key\nvar counter = 0;\n// hashes an array of objects and returns a string\nexport default function hash(args) {\n    if (!args.length)\n        return '';\n    var key = 'arg';\n    for (var i = 0; i < args.length; ++i) {\n        if (args[i] === null) {\n            key += '@null';\n            continue;\n        }\n        var _hash = void 0;\n        if (typeof args[i] !== 'object' && typeof args[i] !== 'function') {\n            // need to consider the case that args[i] is a string:\n            // args[i]        _hash\n            // \"undefined\" -> '\"undefined\"'\n            // undefined   -> 'undefined'\n            // 123         -> '123'\n            // \"null\"      -> '\"null\"'\n            if (typeof args[i] === 'string') {\n                _hash = '\"' + args[i] + '\"';\n            }\n            else {\n                _hash = String(args[i]);\n            }\n        }\n        else {\n            if (!table.has(args[i])) {\n                _hash = counter;\n                table.set(args[i], counter++);\n            }\n            else {\n                _hash = table.get(args[i]);\n            }\n        }\n        key += '@' + _hash;\n    }\n    return key;\n}\n","import hash from './libs/hash';\nvar Cache = /** @class */ (function () {\n    function Cache(initialData) {\n        if (initialData === void 0) { initialData = {}; }\n        this.cache = new Map(Object.entries(initialData));\n        this.subs = [];\n    }\n    Cache.prototype.get = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.cache.get(_key);\n    };\n    Cache.prototype.set = function (key, value) {\n        var _key = this.serializeKey(key)[0];\n        this.cache.set(_key, value);\n        this.notify();\n    };\n    Cache.prototype.keys = function () {\n        return Array.from(this.cache.keys());\n    };\n    Cache.prototype.has = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.cache.has(_key);\n    };\n    Cache.prototype.clear = function () {\n        this.cache.clear();\n        this.notify();\n    };\n    Cache.prototype.delete = function (key) {\n        var _key = this.serializeKey(key)[0];\n        this.cache.delete(_key);\n        this.notify();\n    };\n    // TODO: introduce namespace for the cache\n    Cache.prototype.serializeKey = function (key) {\n        var args = null;\n        if (typeof key === 'function') {\n            try {\n                key = key();\n            }\n            catch (err) {\n                // dependencies not ready\n                key = '';\n            }\n        }\n        if (Array.isArray(key)) {\n            // args array\n            args = key;\n            key = hash(key);\n        }\n        else {\n            // convert null to ''\n            key = String(key || '');\n        }\n        var errorKey = key ? 'err@' + key : '';\n        var isValidatingKey = key ? 'validating@' + key : '';\n        return [key, args, errorKey, isValidatingKey];\n    };\n    Cache.prototype.subscribe = function (listener) {\n        var _this = this;\n        if (typeof listener !== 'function') {\n            throw new Error('Expected the listener to be a function.');\n        }\n        var isSubscribed = true;\n        this.subs.push(listener);\n        return function () {\n            if (!isSubscribed)\n                return;\n            isSubscribed = false;\n            var index = _this.subs.indexOf(listener);\n            if (index > -1) {\n                _this.subs[index] = _this.subs[_this.subs.length - 1];\n                _this.subs.length--;\n            }\n        };\n    };\n    // Notify Cache subscribers about a change in the cache\n    Cache.prototype.notify = function () {\n        for (var _i = 0, _a = this.subs; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener();\n        }\n    };\n    return Cache;\n}());\nexport default Cache;\n","/**\n * Due to bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a work around, we always assume it's online on first load, and change\n * the status upon `online` or `offline` events.\n */\nvar online = true;\nvar isOnline = function () { return online; };\nvar isDocumentVisible = function () {\n    if (typeof document !== 'undefined' &&\n        document.visibilityState !== undefined) {\n        return document.visibilityState !== 'hidden';\n    }\n    // always assume it's visible\n    return true;\n};\nvar fetcher = function (url) { return fetch(url).then(function (res) { return res.json(); }); };\nvar registerOnFocus = function (cb) {\n    if (typeof window !== 'undefined' &&\n        window.addEventListener !== undefined &&\n        typeof document !== 'undefined' &&\n        document.addEventListener !== undefined) {\n        // focus revalidate\n        document.addEventListener('visibilitychange', function () { return cb(); }, false);\n        window.addEventListener('focus', function () { return cb(); }, false);\n    }\n};\nvar registerOnReconnect = function (cb) {\n    if (typeof window !== 'undefined' && window.addEventListener !== undefined) {\n        // reconnect revalidate\n        window.addEventListener('online', function () {\n            online = true;\n            cb();\n        }, false);\n        // nothing to revalidate, just update the status\n        window.addEventListener('offline', function () { return (online = false); }, false);\n    }\n};\nexport default {\n    isOnline: isOnline,\n    isDocumentVisible: isDocumentVisible,\n    fetcher: fetcher,\n    registerOnFocus: registerOnFocus,\n    registerOnReconnect: registerOnReconnect\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { dequal } from 'dequal/lite';\nimport Cache from './cache';\nimport webPreset from './libs/web-preset';\n// cache\nvar cache = new Cache();\n// error retry\nfunction onErrorRetry(_, __, config, revalidate, opts) {\n    if (!config.isDocumentVisible()) {\n        // if it's hidden, stop\n        // it will auto revalidate when focus\n        return;\n    }\n    if (typeof config.errorRetryCount === 'number' &&\n        opts.retryCount > config.errorRetryCount) {\n        return;\n    }\n    // exponential backoff\n    var count = Math.min(opts.retryCount, 8);\n    var timeout = ~~((Math.random() + 0.5) * (1 << count)) * config.errorRetryInterval;\n    setTimeout(revalidate, timeout, opts);\n}\n// client side: need to adjust the config\n// based on the browser status\n// slow connection (<= 70Kbps)\nvar slowConnection = typeof window !== 'undefined' &&\n    // @ts-ignore\n    navigator['connection'] &&\n    // @ts-ignore\n    ['slow-2g', '2g'].indexOf(navigator['connection'].effectiveType) !== -1;\n// config\nvar defaultConfig = __assign({ \n    // events\n    onLoadingSlow: function () { }, onSuccess: function () { }, onError: function () { }, onErrorRetry: onErrorRetry, errorRetryInterval: (slowConnection ? 10 : 5) * 1000, focusThrottleInterval: 5 * 1000, dedupingInterval: 2 * 1000, loadingTimeout: (slowConnection ? 5 : 3) * 1000, refreshInterval: 0, revalidateOnFocus: true, revalidateOnReconnect: true, refreshWhenHidden: false, refreshWhenOffline: false, shouldRetryOnError: true, suspense: false, compare: dequal, isPaused: function () { return false; } }, webPreset);\nexport { cache };\nexport default defaultConfig;\n","import { useEffect, useLayoutEffect } from 'react';\nexport var IS_SERVER = typeof window === 'undefined' ||\n    // @ts-ignore\n    !!(typeof Deno !== 'undefined' && Deno && Deno.version && Deno.version.deno);\n// polyfill for requestAnimationFrame\nexport var rAF = IS_SERVER\n    ? null\n    : window['requestAnimationFrame']\n        ? function (f) { return window['requestAnimationFrame'](f); }\n        : function (f) { return setTimeout(f, 1); };\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nexport var useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n","import { createContext } from 'react';\nvar SWRConfigContext = createContext({});\nSWRConfigContext.displayName = 'SWRConfigContext';\nexport default SWRConfigContext;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// TODO: use @ts-expect-error\nimport { useCallback, useContext, useState, useRef, useMemo, useDebugValue } from 'react';\nimport defaultConfig, { cache } from './config';\nimport { IS_SERVER, rAF, useIsomorphicLayoutEffect } from './env';\nimport SWRConfigContext from './swr-config-context';\n// global state managers\nvar CONCURRENT_PROMISES = {};\nvar CONCURRENT_PROMISES_TS = {};\nvar FOCUS_REVALIDATORS = {};\nvar RECONNECT_REVALIDATORS = {};\nvar CACHE_REVALIDATORS = {};\nvar MUTATION_TS = {};\nvar MUTATION_END_TS = {};\n// generate strictly increasing timestamps\nvar now = (function () {\n    var ts = 0;\n    return function () { return ++ts; };\n})();\n// setup DOM events listeners for `focus` and `reconnect` actions\nif (!IS_SERVER) {\n    var revalidate_1 = function (revalidators) {\n        if (!defaultConfig.isDocumentVisible() || !defaultConfig.isOnline())\n            return;\n        for (var key in revalidators) {\n            if (revalidators[key][0])\n                revalidators[key][0]();\n        }\n    };\n    if (typeof defaultConfig.registerOnFocus === 'function') {\n        defaultConfig.registerOnFocus(function () { return revalidate_1(FOCUS_REVALIDATORS); });\n    }\n    if (typeof defaultConfig.registerOnReconnect === 'function') {\n        defaultConfig.registerOnReconnect(function () { return revalidate_1(RECONNECT_REVALIDATORS); });\n    }\n}\nvar trigger = function (_key, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    // we are ignoring the second argument which correspond to the arguments\n    // the fetcher will receive when key is an array\n    var _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2], keyValidating = _a[3];\n    if (!key)\n        return Promise.resolve();\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        var currentData = cache.get(key);\n        var currentError = cache.get(keyErr);\n        var currentIsValidating = cache.get(keyValidating);\n        var promises = [];\n        for (var i = 0; i < updaters.length; ++i) {\n            promises.push(updaters[i](shouldRevalidate, currentData, currentError, currentIsValidating, i > 0));\n        }\n        // return new updated value\n        return Promise.all(promises).then(function () { return cache.get(key); });\n    }\n    return Promise.resolve(cache.get(key));\n};\nvar broadcastState = function (key, data, error, isValidating) {\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        for (var i = 0; i < updaters.length; ++i) {\n            updaters[i](false, data, error, isValidating);\n        }\n    }\n};\nvar mutate = function (_key, _data, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var _a, key, keyErr, beforeMutationTs, beforeConcurrentPromisesTs, data, error, isAsyncMutation, err_1, shouldAbort, updaters, promises, i;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2];\n                    if (!key)\n                        return [2 /*return*/];\n                    // if there is no new data to update, let's just revalidate the key\n                    if (typeof _data === 'undefined')\n                        return [2 /*return*/, trigger(_key, shouldRevalidate)\n                            // update global timestamps\n                        ];\n                    // update global timestamps\n                    MUTATION_TS[key] = now() - 1;\n                    MUTATION_END_TS[key] = 0;\n                    beforeMutationTs = MUTATION_TS[key];\n                    beforeConcurrentPromisesTs = CONCURRENT_PROMISES_TS[key];\n                    isAsyncMutation = false;\n                    if (_data && typeof _data === 'function') {\n                        // `_data` is a function, call it passing current cache value\n                        try {\n                            _data = _data(cache.get(key));\n                        }\n                        catch (err) {\n                            // if `_data` function throws an error synchronously, it shouldn't be cached\n                            _data = undefined;\n                            error = err;\n                        }\n                    }\n                    if (!(_data && typeof _data.then === 'function')) return [3 /*break*/, 5];\n                    // `_data` is a promise\n                    isAsyncMutation = true;\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, _data];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _b.sent();\n                    error = err_1;\n                    return [3 /*break*/, 4];\n                case 4: return [3 /*break*/, 6];\n                case 5:\n                    data = _data;\n                    _b.label = 6;\n                case 6:\n                    shouldAbort = function () {\n                        // check if other mutations have occurred since we've started this mutation\n                        if (beforeMutationTs !== MUTATION_TS[key] ||\n                            beforeConcurrentPromisesTs !== CONCURRENT_PROMISES_TS[key]) {\n                            if (error)\n                                throw error;\n                            return true;\n                        }\n                    };\n                    // if there's a race we don't update cache or broadcast change, just return the data\n                    if (shouldAbort())\n                        return [2 /*return*/, data];\n                    if (typeof data !== 'undefined') {\n                        // update cached data\n                        cache.set(key, data);\n                    }\n                    // always update or reset the error\n                    cache.set(keyErr, error);\n                    // reset the timestamp to mark the mutation has ended\n                    MUTATION_END_TS[key] = now() - 1;\n                    if (!isAsyncMutation) {\n                        // we skip broadcasting if there's another mutation happened synchronously\n                        if (shouldAbort())\n                            return [2 /*return*/, data];\n                    }\n                    updaters = CACHE_REVALIDATORS[key];\n                    if (updaters) {\n                        promises = [];\n                        for (i = 0; i < updaters.length; ++i) {\n                            promises.push(updaters[i](!!shouldRevalidate, data, error, undefined, i > 0));\n                        }\n                        // return new updated value\n                        return [2 /*return*/, Promise.all(promises).then(function () {\n                                if (error)\n                                    throw error;\n                                return cache.get(key);\n                            })];\n                    }\n                    // throw error or return data to be used by caller of mutate\n                    if (error)\n                        throw error;\n                    return [2 /*return*/, data];\n            }\n        });\n    });\n};\nfunction useSWR() {\n    var _this = this;\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var _key = args[0];\n    var config = Object.assign({}, defaultConfig, useContext(SWRConfigContext), args.length > 2\n        ? args[2]\n        : args.length === 2 && typeof args[1] === 'object'\n            ? args[1]\n            : {});\n    // in typescript args.length > 2 is not same as args.lenth === 3\n    // we do a safe type assertion here\n    // args.length === 3\n    var fn = (args.length > 2\n        ? args[1]\n        : args.length === 2 && typeof args[1] === 'function'\n            ? args[1]\n            : /**\n                  pass fn as null will disable revalidate\n                  https://paco.sh/blog/shared-hook-state-with-swr\n                */\n                args[1] === null\n                    ? args[1]\n                    : config.fetcher);\n    // we assume `key` as the identifier of the request\n    // `key` can change but `fn` shouldn't\n    // (because `revalidate` only depends on `key`)\n    // `keyErr` is the cache key for error objects\n    var _a = cache.serializeKey(_key), key = _a[0], fnArgs = _a[1], keyErr = _a[2], keyValidating = _a[3];\n    var configRef = useRef(config);\n    useIsomorphicLayoutEffect(function () {\n        configRef.current = config;\n    });\n    var willRevalidateOnMount = function () {\n        return (config.revalidateOnMount ||\n            (!config.initialData && config.revalidateOnMount === undefined));\n    };\n    var resolveData = function () {\n        var cachedData = cache.get(key);\n        return typeof cachedData === 'undefined' ? config.initialData : cachedData;\n    };\n    var resolveIsValidating = function () {\n        return !!cache.get(keyValidating) || (key && willRevalidateOnMount());\n    };\n    var initialData = resolveData();\n    var initialError = cache.get(keyErr);\n    var initialIsValidating = resolveIsValidating();\n    // if a state is accessed (data, error or isValidating),\n    // we add the state to dependencies so if the state is\n    // updated in the future, we can trigger a rerender\n    var stateDependencies = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    var stateRef = useRef({\n        data: initialData,\n        error: initialError,\n        isValidating: initialIsValidating\n    });\n    // display the data label in the React DevTools next to SWR hooks\n    useDebugValue(stateRef.current.data);\n    var rerender = useState({})[1];\n    var dispatch = useCallback(function (payload) {\n        var shouldUpdateState = false;\n        for (var k in payload) {\n            // @ts-ignore\n            if (stateRef.current[k] === payload[k]) {\n                continue;\n            }\n            // @ts-ignore\n            stateRef.current[k] = payload[k];\n            // @ts-ignore\n            if (stateDependencies.current[k]) {\n                shouldUpdateState = true;\n            }\n        }\n        if (shouldUpdateState) {\n            // if component is unmounted, should skip rerender\n            // if component is not mounted, should skip rerender\n            if (unmountedRef.current || !initialMountedRef.current)\n                return;\n            rerender({});\n        }\n    }, \n    // config.suspense isn't allowed to change during the lifecycle\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // error ref inside revalidate (is last request errored?)\n    var unmountedRef = useRef(false);\n    var keyRef = useRef(key);\n    // check if component is mounted in suspense mode\n    var initialMountedRef = useRef(false);\n    // do unmount check for callbacks\n    var eventsCallback = useCallback(function (event) {\n        var _a;\n        var params = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            params[_i - 1] = arguments[_i];\n        }\n        if (unmountedRef.current)\n            return;\n        if (!initialMountedRef.current)\n            return;\n        if (key !== keyRef.current)\n            return;\n        // @ts-ignore\n        (_a = configRef.current)[event].apply(_a, params);\n    }, [key]);\n    var boundMutate = useCallback(function (data, shouldRevalidate) {\n        return mutate(keyRef.current, data, shouldRevalidate);\n    }, []);\n    var addRevalidator = function (revalidators, callback) {\n        if (!revalidators[key]) {\n            revalidators[key] = [callback];\n        }\n        else {\n            revalidators[key].push(callback);\n        }\n        return function () {\n            var keyedRevalidators = revalidators[key];\n            var index = keyedRevalidators.indexOf(callback);\n            if (index >= 0) {\n                // O(1): faster than splice\n                keyedRevalidators[index] =\n                    keyedRevalidators[keyedRevalidators.length - 1];\n                keyedRevalidators.pop();\n            }\n        };\n    };\n    // start a revalidation\n    var revalidate = useCallback(function (revalidateOpts) {\n        if (revalidateOpts === void 0) { revalidateOpts = {}; }\n        return __awaiter(_this, void 0, void 0, function () {\n            var _a, retryCount, _b, dedupe, loading, shouldDeduping, newData, startAt, newState, err_2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!key || !fn)\n                            return [2 /*return*/, false];\n                        if (unmountedRef.current)\n                            return [2 /*return*/, false];\n                        if (configRef.current.isPaused())\n                            return [2 /*return*/, false];\n                        _a = revalidateOpts.retryCount, retryCount = _a === void 0 ? 0 : _a, _b = revalidateOpts.dedupe, dedupe = _b === void 0 ? false : _b;\n                        loading = true;\n                        shouldDeduping = typeof CONCURRENT_PROMISES[key] !== 'undefined' && dedupe;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, , 7]);\n                        dispatch({\n                            isValidating: true\n                        });\n                        cache.set(keyValidating, true);\n                        if (!shouldDeduping) {\n                            // also update other hooks\n                            broadcastState(key, stateRef.current.data, stateRef.current.error, true);\n                        }\n                        newData = void 0;\n                        startAt = void 0;\n                        if (!shouldDeduping) return [3 /*break*/, 3];\n                        // there's already an ongoing request,\n                        // this one needs to be deduplicated.\n                        startAt = CONCURRENT_PROMISES_TS[key];\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 2:\n                        newData = _c.sent();\n                        return [3 /*break*/, 5];\n                    case 3:\n                        // if no cache being rendered currently (it shows a blank page),\n                        // we trigger the loading slow event.\n                        if (config.loadingTimeout && !cache.get(key)) {\n                            setTimeout(function () {\n                                if (loading)\n                                    eventsCallback('onLoadingSlow', key, config);\n                            }, config.loadingTimeout);\n                        }\n                        if (fnArgs !== null) {\n                            CONCURRENT_PROMISES[key] = fn.apply(void 0, fnArgs);\n                        }\n                        else {\n                            CONCURRENT_PROMISES[key] = fn(key);\n                        }\n                        CONCURRENT_PROMISES_TS[key] = startAt = now();\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 4:\n                        newData = _c.sent();\n                        setTimeout(function () {\n                            delete CONCURRENT_PROMISES[key];\n                            delete CONCURRENT_PROMISES_TS[key];\n                        }, config.dedupingInterval);\n                        // trigger the success event,\n                        // only do this for the original request.\n                        eventsCallback('onSuccess', newData, key, config);\n                        _c.label = 5;\n                    case 5:\n                        // if there're other ongoing request(s), started after the current one,\n                        // we need to ignore the current one to avoid possible race conditions:\n                        //   req1------------------>res1        (current one)\n                        //        req2---------------->res2\n                        // the request that fired later will always be kept.\n                        if (CONCURRENT_PROMISES_TS[key] > startAt) {\n                            return [2 /*return*/, false];\n                        }\n                        // if there're other mutations(s), overlapped with the current revalidation:\n                        // case 1:\n                        //   req------------------>res\n                        //       mutate------>end\n                        // case 2:\n                        //         req------------>res\n                        //   mutate------>end\n                        // case 3:\n                        //   req------------------>res\n                        //       mutate-------...---------->\n                        // we have to ignore the revalidation result (res) because it's no longer fresh.\n                        // meanwhile, a new revalidation should be triggered when the mutation ends.\n                        if (MUTATION_TS[key] &&\n                            // case 1\n                            (startAt <= MUTATION_TS[key] ||\n                                // case 2\n                                startAt <= MUTATION_END_TS[key] ||\n                                // case 3\n                                MUTATION_END_TS[key] === 0)) {\n                            dispatch({ isValidating: false });\n                            return [2 /*return*/, false];\n                        }\n                        cache.set(keyErr, undefined);\n                        cache.set(keyValidating, false);\n                        newState = {\n                            isValidating: false\n                        };\n                        if (typeof stateRef.current.error !== 'undefined') {\n                            // we don't have an error\n                            newState.error = undefined;\n                        }\n                        if (!config.compare(stateRef.current.data, newData)) {\n                            // deep compare to avoid extra re-render\n                            // data changed\n                            newState.data = newData;\n                        }\n                        if (!config.compare(cache.get(key), newData)) {\n                            cache.set(key, newData);\n                        }\n                        // merge the new state\n                        dispatch(newState);\n                        if (!shouldDeduping) {\n                            // also update other hooks\n                            broadcastState(key, newData, newState.error, false);\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        err_2 = _c.sent();\n                        delete CONCURRENT_PROMISES[key];\n                        delete CONCURRENT_PROMISES_TS[key];\n                        if (configRef.current.isPaused()) {\n                            dispatch({\n                                isValidating: false\n                            });\n                            return [2 /*return*/, false];\n                        }\n                        cache.set(keyErr, err_2);\n                        // get a new error\n                        // don't use deep equal for errors\n                        if (stateRef.current.error !== err_2) {\n                            // we keep the stale data\n                            dispatch({\n                                isValidating: false,\n                                error: err_2\n                            });\n                            if (!shouldDeduping) {\n                                // also broadcast to update other hooks\n                                broadcastState(key, undefined, err_2, false);\n                            }\n                        }\n                        // events and retry\n                        eventsCallback('onError', err_2, key, config);\n                        if (config.shouldRetryOnError) {\n                            // when retrying, we always enable deduping\n                            eventsCallback('onErrorRetry', err_2, key, config, revalidate, {\n                                retryCount: retryCount + 1,\n                                dedupe: true\n                            });\n                        }\n                        return [3 /*break*/, 7];\n                    case 7:\n                        loading = false;\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    }, \n    // dispatch is immutable, and `eventsCallback`, `fnArgs`, `keyErr`, and `keyValidating` are based on `key`,\n    // so we can them from the deps array.\n    //\n    // FIXME:\n    // `fn` and `config` might be changed during the lifecycle,\n    // but they might be changed every render like this.\n    // useSWR('key', () => fetch('/api/'), { suspense: true })\n    // So we omit the values from the deps array\n    // even though it might cause unexpected behaviors.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [key]);\n    // mounted (client side rendering)\n    useIsomorphicLayoutEffect(function () {\n        if (!key)\n            return undefined;\n        // after `key` updates, we need to mark it as mounted\n        unmountedRef.current = false;\n        var isUpdating = initialMountedRef.current;\n        initialMountedRef.current = true;\n        // after the component is mounted (hydrated),\n        // we need to update the data from the cache\n        // and trigger a revalidation\n        var currentHookData = stateRef.current.data;\n        var latestKeyedData = resolveData();\n        // update the state if the key changed (not the inital render) or cache updated\n        keyRef.current = key;\n        if (!config.compare(currentHookData, latestKeyedData)) {\n            dispatch({ data: latestKeyedData });\n        }\n        // revalidate with deduping\n        var softRevalidate = function () { return revalidate({ dedupe: true }); };\n        // trigger a revalidation\n        if (isUpdating || willRevalidateOnMount()) {\n            if (typeof latestKeyedData !== 'undefined' && !IS_SERVER) {\n                // delay revalidate if there's cache\n                // to not block the rendering\n                // @ts-ignore it's safe to use requestAnimationFrame in browser\n                rAF(softRevalidate);\n            }\n            else {\n                softRevalidate();\n            }\n        }\n        var pending = false;\n        var onFocus = function () {\n            if (pending || !configRef.current.revalidateOnFocus)\n                return;\n            pending = true;\n            softRevalidate();\n            setTimeout(function () { return (pending = false); }, configRef.current.focusThrottleInterval);\n        };\n        var onReconnect = function () {\n            if (configRef.current.revalidateOnReconnect) {\n                softRevalidate();\n            }\n        };\n        // register global cache update listener\n        var onUpdate = function (shouldRevalidate, updatedData, updatedError, updatedIsValidating, dedupe) {\n            if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n            if (dedupe === void 0) { dedupe = true; }\n            // update hook state\n            var newState = {};\n            var needUpdate = false;\n            if (typeof updatedData !== 'undefined' &&\n                !config.compare(stateRef.current.data, updatedData)) {\n                newState.data = updatedData;\n                needUpdate = true;\n            }\n            // always update error\n            // because it can be `undefined`\n            if (stateRef.current.error !== updatedError) {\n                newState.error = updatedError;\n                needUpdate = true;\n            }\n            if (typeof updatedIsValidating !== 'undefined' &&\n                stateRef.current.isValidating !== updatedIsValidating) {\n                newState.isValidating = updatedIsValidating;\n                needUpdate = true;\n            }\n            if (needUpdate) {\n                dispatch(newState);\n            }\n            if (shouldRevalidate) {\n                if (dedupe) {\n                    return softRevalidate();\n                }\n                else {\n                    return revalidate();\n                }\n            }\n            return false;\n        };\n        var unsubFocus = addRevalidator(FOCUS_REVALIDATORS, onFocus);\n        var unsubReconnect = addRevalidator(RECONNECT_REVALIDATORS, onReconnect);\n        var unsubUpdate = addRevalidator(CACHE_REVALIDATORS, onUpdate);\n        return function () {\n            // cleanup\n            dispatch = function () { return null; };\n            // mark it as unmounted\n            unmountedRef.current = true;\n            unsubFocus();\n            unsubReconnect();\n            unsubUpdate();\n        };\n    }, [key, revalidate]);\n    useIsomorphicLayoutEffect(function () {\n        var timer = null;\n        var tick = function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(!stateRef.current.error &&\n                            (configRef.current.refreshWhenHidden ||\n                                configRef.current.isDocumentVisible()) &&\n                            (configRef.current.refreshWhenOffline || configRef.current.isOnline()))) return [3 /*break*/, 2];\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        return [4 /*yield*/, revalidate({ dedupe: true })];\n                    case 1:\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        // Read the latest refreshInterval\n                        if (configRef.current.refreshInterval && timer) {\n                            timer = setTimeout(tick, configRef.current.refreshInterval);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        if (configRef.current.refreshInterval) {\n            timer = setTimeout(tick, configRef.current.refreshInterval);\n        }\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n                timer = null;\n            }\n        };\n    }, [\n        config.refreshInterval,\n        config.refreshWhenHidden,\n        config.refreshWhenOffline,\n        revalidate\n    ]);\n    // suspense\n    var latestData;\n    var latestError;\n    if (config.suspense) {\n        // in suspense mode, we can't return empty state\n        // (it should be suspended)\n        // try to get data and error from cache\n        latestData = cache.get(key);\n        latestError = cache.get(keyErr);\n        if (typeof latestData === 'undefined') {\n            latestData = initialData;\n        }\n        if (typeof latestError === 'undefined') {\n            latestError = initialError;\n        }\n        if (typeof latestData === 'undefined' &&\n            typeof latestError === 'undefined') {\n            // need to start the request if it hasn't\n            if (!CONCURRENT_PROMISES[key]) {\n                // trigger revalidate immediately\n                // to get the promise\n                // in this revalidate, should not rerender\n                revalidate();\n            }\n            if (CONCURRENT_PROMISES[key] &&\n                typeof CONCURRENT_PROMISES[key].then === 'function') {\n                // if it is a promise\n                throw CONCURRENT_PROMISES[key];\n            }\n            // it's a value, return it directly (override)\n            latestData = CONCURRENT_PROMISES[key];\n        }\n        if (typeof latestData === 'undefined' && latestError) {\n            // in suspense mode, throw error if there's no content\n            throw latestError;\n        }\n    }\n    // define returned state\n    // can be memorized since the state is a ref\n    var memoizedState = useMemo(function () {\n        // revalidate will be deprecated in the 1.x release\n        // because mutate() covers the same use case of revalidate().\n        // This remains only for backward compatibility\n        var state = { revalidate: revalidate, mutate: boundMutate };\n        Object.defineProperties(state, {\n            error: {\n                // `key` might be changed in the upcoming hook re-render,\n                // but the previous state will stay\n                // so we need to match the latest key and data (fallback to `initialData`)\n                get: function () {\n                    stateDependencies.current.error = true;\n                    if (config.suspense) {\n                        return latestError;\n                    }\n                    return keyRef.current === key ? stateRef.current.error : initialError;\n                },\n                enumerable: true\n            },\n            data: {\n                get: function () {\n                    stateDependencies.current.data = true;\n                    if (config.suspense) {\n                        return latestData;\n                    }\n                    return keyRef.current === key ? stateRef.current.data : initialData;\n                },\n                enumerable: true\n            },\n            isValidating: {\n                get: function () {\n                    stateDependencies.current.isValidating = true;\n                    return key ? stateRef.current.isValidating : false;\n                },\n                enumerable: true\n            }\n        });\n        return state;\n        // `config.suspense` isn't allowed to change during the lifecycle.\n        // `boundMutate` is immutable, and the immutability of `revalidate` depends on `key`\n        // so we can omit them from the deps array,\n        // but we put it to enable react-hooks/exhaustive-deps rule.\n        // `initialData` and `initialError` are not initial values\n        // because they are changed during the lifecycle\n        // so we should add them in the deps array.\n    }, [\n        revalidate,\n        initialData,\n        initialError,\n        boundMutate,\n        key,\n        config.suspense,\n        latestError,\n        latestData\n    ]);\n    return memoizedState;\n}\nObject.defineProperty(SWRConfigContext.Provider, 'default', {\n    value: defaultConfig\n});\nvar SWRConfig = SWRConfigContext.Provider;\nexport { trigger, mutate, SWRConfig };\nexport default useSWR;\n","// `useSWR` and related APIs\nimport { default as useSWR } from './use-swr';\nexport default useSWR;\nexport * from './use-swr';\n// `useSWRInfinite`\nexport { useSWRInfinite } from './use-swr-infinite';\n// Cache related, to be replaced by the new APIs\nexport { cache } from './config';\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs>\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar useSessionStorage = function (key, initialValue, raw) {\n    if (!isBrowser) {\n        return [initialValue, function () { }];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () {\n        try {\n            var sessionStorageValue = sessionStorage.getItem(key);\n            if (typeof sessionStorageValue !== 'string') {\n                sessionStorage.setItem(key, raw ? String(initialValue) : JSON.stringify(initialValue));\n                return initialValue;\n            }\n            else {\n                return raw ? sessionStorageValue : JSON.parse(sessionStorageValue || 'null');\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. JSON.parse and JSON.stringify\n            // cat throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        try {\n            var serializedState = raw ? String(state) : JSON.stringify(state);\n            sessionStorage.setItem(key, serializedState);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. Also JSON.stringify can throw.\n        }\n    });\n    return [state, setState];\n};\nexport default useSessionStorage;\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name max\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - `max` function now accepts an array of dates rather than spread arguments.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   var date1 = new Date(1989, 6, 10)\n *   var date2 = new Date(1987, 1, 11)\n *   var maxDate = max(date1, date2)\n *\n *   // v2.0.0 onward:\n *   var dates = [new Date(1989, 6, 10), new Date(1987, 1, 11)]\n *   var maxDate = max(dates)\n *   ```\n *\n * @param {Date[]|Number[]} datesArray - the dates to compare\n * @returns {Date} the latest of the dates\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which of these dates is the latest?\n * var result = max([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Sun Jul 02 1995 00:00:00\n */\n\nexport default function max(dirtyDatesArray) {\n  requiredArgs(1, arguments);\n  var datesArray; // `dirtyDatesArray` is Array, Set or Map, or object with custom `forEach` method\n\n  if (dirtyDatesArray && typeof dirtyDatesArray.forEach === 'function') {\n    datesArray = dirtyDatesArray; // If `dirtyDatesArray` is Array-like Object, convert to Array.\n  } else if (typeof dirtyDatesArray === 'object' && dirtyDatesArray !== null) {\n    datesArray = Array.prototype.slice.call(dirtyDatesArray);\n  } else {\n    // `dirtyDatesArray` is non-iterable, return Invalid Date\n    return new Date(NaN);\n  }\n\n  var result;\n  datesArray.forEach(function (dirtyDate) {\n    var currentDate = toDate(dirtyDate);\n\n    if (result === undefined || result < currentDate || isNaN(Number(currentDate))) {\n      result = currentDate;\n    }\n  });\n  return result || new Date(NaN);\n}","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtypeObject,\n\tArchtypeArray,\n\tArchtypeMap,\n\tArchtypeSet,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object)\n\t\treturn true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === ArchtypeObject) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): 0 | 1 | 2 | 3 {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? ArchtypeArray\n\t\t: isMap(thing)\n\t\t? ArchtypeMap\n\t\t: isSet(thing)\n\t\t? ArchtypeSet\n\t\t: ArchtypeObject\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchtypeMap\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchtypeMap ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchtypeMap) thing.set(propOrOldValue, value)\n\telse if (t === ArchtypeSet) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tSetState,\n\tImmerScope,\n\tProxyObjectState,\n\tProxyArrayState,\n\tES5ObjectState,\n\tES5ArrayState,\n\tMapState,\n\tDRAFT_STATE\n} from \"../internal\"\n\nexport type Objectish = AnyObject | AnyArray | AnyMap | AnySet\nexport type ObjectishNoSet = AnyObject | AnyArray | AnyMap\n\nexport type AnyObject = {[key: string]: any}\nexport type AnyArray = Array<any>\nexport type AnySet = Set<any>\nexport type AnyMap = Map<any, any>\n\nexport const ArchtypeObject = 0\nexport const ArchtypeArray = 1\nexport const ArchtypeMap = 2\nexport const ArchtypeSet = 3\n\nexport const ProxyTypeProxyObject = 0\nexport const ProxyTypeProxyArray = 1\nexport const ProxyTypeES5Object = 4\nexport const ProxyTypeES5Array = 5\nexport const ProxyTypeMap = 2\nexport const ProxyTypeSet = 3\n\nexport interface ImmerBaseState {\n\tparent_?: ImmerState\n\tscope_: ImmerScope\n\tmodified_: boolean\n\tfinalized_: boolean\n\tisManual_: boolean\n}\n\nexport type ImmerState =\n\t| ProxyObjectState\n\t| ProxyArrayState\n\t| ES5ObjectState\n\t| ES5ArrayState\n\t| MapState\n\t| SetState\n\n// The _internal_ type used for drafts (not to be confused with Draft, which is public facing)\nexport type Drafted<Base = any, T extends ImmerState = ImmerState> = {\n\t[DRAFT_STATE]: T\n} & Base\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeMap\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeSet\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyTypeProxyObject ||\n\t\tstate.type_ === ProxyTypeProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyTypeES5Object,\n\tProxyTypeES5Array,\n\tProxyTypeSet,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyTypeES5Object || state.type_ === ProxyTypeES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyTypeSet ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyTypeSet && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyTypeProxyArray : (ProxyTypeProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (state.copy_![prop] === value && typeof value !== \"number\") return true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyTypeProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (\n\t\targ1: any,\n\t\targ2?: any,\n\t\targ3?: any\n\t): any => {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: Objectish, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches) as any\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t) as any\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtypeMap,\n\tArchtypeSet,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === ArchtypeSet ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase ArchtypeMap:\n\t\t\treturn new Map(value)\n\t\tcase ArchtypeSet:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n"],"sourceRoot":""}