{"code":"(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[14],{139:function(t,e,n){\"use strict\";var a=n(92),i=n(73),c=n(183),r=n(290),l=n(19);e.a=function(){var t=Object(r.a)(),e=Object(i.a)(t,2),n=e[0],d=e[1].width,s=window.innerWidth;d=d||(s>=769?528:s),s<769&&(d-=30);return Object(l.jsx)(\"div\",{ref:n,className:\"TableLoader\",children:Object(l.jsx)(c.a,{viewBox:\"0 0 \".concat(d,\" \").concat(900),height:900,width:d,speed:2,animate:!1,children:Object(a.a)(Array(20).keys()).map((function(t){return Object(l.jsx)(\"rect\",{x:\"0\",y:45*t,rx:\"3\",ry:\"3\",width:d,height:40},t)}))})})}},281:function(t,e,n){\"use strict\";n.r(e);var a=n(73),i=n(139),c=n(9),r=n(2),l={root:null,rootMargin:\"0px 0px 0px 0px\",threshold:0},d=function(t){var e=Object(r.useState)(!1),n=Object(a.a)(e,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){t.current&&new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(c(!0),n.unobserve(t.current))}))}),l).observe(t.current)}),[t]),i},s=n(85),o=n(211),u=n(90),j=n(126),b=n(152),O=[\"data\",\"isValidating\",\"error\"];var v=function(t,e,n){for(var i=Object(r.useState)(n),c=Object(a.a)(i,2),l=c[0],d=c[1],v=arguments.length,h=new Array(v>3?v-3:0),f=3;f<v;f++)h[f-3]=arguments[f];var m=b.a.apply(void 0,[t,e,l].concat(h)),x=m.data,p=m.isValidating,g=m.error,T=Object(o.a)(m,O);return Object(j.a)((function(){d(Object(u.a)(l,(function(t){t.initialData=x})))}),[x]),Object(s.a)(Object(s.a)({},T),{},{isValidating:p,error:g,data:x})},h=n(21),f=n(77),m=n.n(f),x=n(53),p=n(42),g=n(254),T=n(184),y=n(5),k=n(252),S=n(253),w=n(278),D=n(19),M=Object(r.lazy)((function(){return Object(h.k)((function(){return Promise.all([n.e(1),n.e(13)]).then(n.bind(null,286))}))})),C=Object(r.lazy)((function(){return Object(h.k)((function(){return n.e(20).then(n.bind(null,256))}))})),N=Object(r.lazy)((function(){return Object(h.k)((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,257))}))})),I=Object(r.lazy)((function(){return Object(h.k)((function(){return n.e(21).then(n.bind(null,259))}))})),z=Object(r.lazy)((function(){return Object(h.k)((function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,282))}))}));e.default=function(){var t,e=Object(r.useState)({stateCode:\"TT\",districtName:null}),n=Object(a.a)(e,2),l=n[0],s=n[1],o=Object(k.a)(\"anchor\",null),u=(Object(a.a)(o,1)[0],Object(k.a)(\"expandTable\",!1)),j=Object(a.a)(u,2),b=j[0],O=j[1],f=Object(S.a)(\"mapStatistic\",\"active\"),H=Object(a.a)(f,2),V=H[0],E=H[1],F=Object(r.useState)(\"\"),P=Object(a.a)(F,2),A=P[0],J=P[1],L=(Object(y.h)(),v(\"\".concat(c.c,\"/timeseries.min.json\"),h.b,{revalidateOnMount:!0,refreshInterval:c.b}).data),R=v(\"\".concat(c.c,\"/data\").concat(A?\"-\".concat(A):\"\",\".min.json\"),h.b,{revalidateOnMount:!0,refreshInterval:c.b}).data,B=Object(r.useRef)(),U=d(B),W=Object(w.a)().width,_=\"\"!==A&&A<c.d,q=\"\"===A||A>Object(x.a)(Object(p.a)(Object(h.j)(c.f),c.t),{representation:\"date\"}),G=0===Object(h.h)(null===R||void 0===R?void 0:R.TT,\"total\",\"vaccinated\"),K=Object(r.useMemo)((function(){var t,e,n,a,i,c,r,l,d=[null===R||void 0===R||null===(t=R.TT)||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.date,null===R||void 0===R||null===(n=R.TT)||void 0===n||null===(a=n.meta)||void 0===a||null===(i=a.tested)||void 0===i?void 0:i.date,null===R||void 0===R||null===(c=R.TT)||void 0===c||null===(r=c.meta)||void 0===r||null===(l=r.vaccinated)||void 0===l?void 0:l.date].filter((function(t){return t}));return d.length>0?Object(x.a)(Object(g.a)(d.map((function(t){return Object(h.j)(t)}))),{representation:\"date\"}):null}),[R]),Q=Object(r.useMemo)((function(){var t=Object.keys(R||{}).map((function(t){var e,n;return null===R||void 0===R||null===(e=R[t])||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.last_updated})).filter((function(t){return t}));return t.length>0?Object(h.d)(Object(g.a)(t.map((function(t){return Object(h.j)(t)})))):null}),[R]),X=Object(r.useMemo)((function(){return Object.entries(R||{}).reduce((function(t,e){var n,i=Object(a.a)(e,2),r=i[0],l=i[1];return t[r]=!!((null===l||void 0===l?void 0:l.districts)&&(null===(n=l.districts)||void 0===n?void 0:n[c.v])&&c.l.every((function(t){return Object(h.h)(l,\"total\",t)===Object(h.h)(l.districts[c.v],\"total\",t)}))),t}),{})}),[R]);return(null===l||void 0===l?void 0:l.stateCode)&&(null===l||void 0===l?void 0:l.districtName)&&l.districtName!==c.v&&X[l.stateCode],Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(T.a,{children:[Object(D.jsx)(\"title\",{children:\"Coronavirus Outbreak in India - covid19india.org\"}),Object(D.jsx)(\"meta\",{name:\"title\",content:\"Coronavirus Outbreak in India: Latest Map and Case Count\"})]}),Object(D.jsx)(\"div\",{className:\"Home\",children:Object(D.jsxs)(\"div\",{className:m()(\"home-left\",{expanded:b}),children:[Object(D.jsx)(\"div\",{className:\"header\",children:Object(D.jsx)(D.Fragment,{children:L&&Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)(\"div\",{style:{minHeight:\"61px\"}}),children:Object(D.jsx)(M,{date:A,setDate:J,dates:Object.keys(null===(t=L.TT)||void 0===t?void 0:t.dates),lastUpdatedDate:Q})})})}),Object(D.jsxs)(\"div\",{style:{position:\"relative\",marginTop:\"1rem\"},children:[R&&Object(D.jsxs)(r.Suspense,{fallback:Object(D.jsx)(\"div\",{style:{height:\"50rem\"}}),children:[W>=769&&!b&&Object(D.jsx)(I,{mapStatistic:V,setMapStatistic:E}),Object(D.jsx)(N,{data:R.TT})]}),Object(D.jsx)(D.Fragment,{})]}),R&&Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)(i.a,{}),children:Object(D.jsx)(z,{data:R,regionHighlighted:l,setRegionHighlighted:s,expandTable:b,setExpandTable:O,hideDistrictData:_,hideDistrictTestData:q,hideVaccinated:G,lastDataDate:K,noDistrictDataStates:X})})]})}),U&&Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)(\"div\",{}),children:Object(D.jsx)(C,{})})]})}}}]);","name":"static/js/14.792cb33b.chunk.js","map":{"version":3,"sources":["static/js/14.792cb33b.chunk.js"],"names":["this","push","139","module","__webpack_exports__","__webpack_require__","_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","react_content_loader__WEBPACK_IMPORTED_MODULE_2__","react_use__WEBPACK_IMPORTED_MODULE_3__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__","_useMeasure","Object","_useMeasure2","ref","width","windowWidth","window","innerWidth","className","children","viewBox","concat","height","speed","animate","Array","keys","map","i","x","y","rx","ry","281","r","slicedToArray","Table","constants","react","OPTIONS","root","rootMargin","threshold","hooks_useIsVisible","elementRef","_useState","_useState2","isVisible","setIsVisible","current","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","unobserve","observe","objectSpread2","objectWithoutProperties","immer_esm","useUpdateEffect","esm","_excluded","hooks_useStickySWR","key","fetcher","swrOptions","options","setOptions","_len","arguments","length","args","_key","_useSWR","apply","data","isValidating","error","rest","draftOptions","initialData","commonFunctions","classnames","classnames_default","n","formatISO","addDays","max","Helmet","react_router","useLocalStorage","useSessionStorage","useWindowSize","jsx_runtime","Actions","Promise","all","e","then","bind","Footer","Level","MapSwitcher","Home_Table","_timeseries$TT","stateCode","districtName","regionHighlighted","setRegionHighlighted","_useLocalStorage","_useLocalStorage3","_useLocalStorage4","expandTable","setExpandTable","_useSessionStorage","_useSessionStorage2","mapStatistic","setMapStatistic","_useState3","_useState4","date","setDate","timeseries","revalidateOnMount","refreshInterval","homeRightElement","hideDistrictData","hideDistrictTestData","representation","hideVaccinated","lastDataDate","_data$TT","_data$TT$meta","_data$TT2","_data$TT2$meta","_data$TT2$meta$tested","_data$TT3","_data$TT3$meta","_data$TT3$meta$vaccin","updatedDates","meta","tested","vaccinated","filter","lastUpdatedDate","_data$stateCode","_data$stateCode$meta","datetime","noDistrictDataStates","reduce","res","_ref","_stateData$districts","_ref2","stateData","districts","every","statistic","name","content","expanded","fallback","style","minHeight","dates","position","marginTop"],"mappings":"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"},"input":"(this[\"webpackJsonpcovid19india\"] = this[\"webpackJsonpcovid19india\"] || []).push([[14],{\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92);\n/* harmony import */ var _Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73);\n/* harmony import */ var react_content_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(183);\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(290);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\nvar TableLoader=function TableLoader(){var _useMeasure=Object(react_use__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(),_useMeasure2=Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useMeasure,2),ref=_useMeasure2[0],width=_useMeasure2[1].width;var windowWidth=window.innerWidth;width=width||(windowWidth>=769?528:windowWidth);if(windowWidth<769){width-=30;}var height=45;var rows=20;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{ref:ref,className:\"TableLoader\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_content_loader__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{viewBox:\"0 0 \".concat(width,\" \").concat(height*rows),height:height*rows,width:width,speed:2,animate:false,children:Object(_Users_ssakhilesha_Documents_GitHub_Masters_BDA_project_website_covid19_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Array(rows).keys()).map(function(i){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"rect\",{x:\"0\",y:height*i,rx:\"3\",ry:\"3\",width:width,height:height-5},i);})})});};/* harmony default export */ __webpack_exports__[\"a\"] = (TableLoader);\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./src/components/loaders/Table.js\nvar Table = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./src/constants.js\nvar constants = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/hooks/useIsVisible.js\nvar OPTIONS={root:null,rootMargin:'0px 0px 0px 0px',threshold:0};var useIsVisible_useIsVisible=function useIsVisible(elementRef){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];Object(react[\"useEffect\"])(function(){if(elementRef.current){var observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.isIntersecting){setIsVisible(true);observer.unobserve(elementRef.current);}});},OPTIONS);observer.observe(elementRef.current);}},[elementRef]);return isVisible;};/* harmony default export */ var hooks_useIsVisible = (useIsVisible_useIsVisible);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(85);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(211);\n\n// EXTERNAL MODULE: ./node_modules/immer/dist/immer.esm.js\nvar immer_esm = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useUpdateEffect.js + 1 modules\nvar useUpdateEffect = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/swr/esm/index.js + 9 modules\nvar esm = __webpack_require__(152);\n\n// CONCATENATED MODULE: ./src/hooks/useStickySWR.js\nvar _excluded=[\"data\",\"isValidating\",\"error\"];function useStickySWR(key,fetcher,swrOptions){var _useState=Object(react[\"useState\"])(swrOptions),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),options=_useState2[0],setOptions=_useState2[1];for(var _len=arguments.length,args=new Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){args[_key-3]=arguments[_key];}var _useSWR=esm[\"a\" /* default */].apply(void 0,[key,fetcher,options].concat(args)),data=_useSWR.data,isValidating=_useSWR.isValidating,error=_useSWR.error,rest=Object(objectWithoutProperties[\"a\" /* default */])(_useSWR,_excluded);Object(useUpdateEffect[\"a\" /* default */])(function(){setOptions(Object(immer_esm[\"a\" /* default */])(options,function(draftOptions){draftOptions.initialData=data;}));},[data]);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{isValidating:isValidating,error:error,data:data});}/* harmony default export */ var hooks_useStickySWR = (useStickySWR);\n// EXTERNAL MODULE: ./src/utils/commonFunctions.js\nvar commonFunctions = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(77);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/formatISO/index.js\nvar formatISO = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/addDays/index.js\nvar addDays = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/max/index.js\nvar max = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/react-helmet/es/Helmet.js\nvar Helmet = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useLocalStorage.js\nvar useLocalStorage = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useSessionStorage.js\nvar useSessionStorage = __webpack_require__(253);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useWindowSize.js + 3 modules\nvar useWindowSize = __webpack_require__(278);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/components/Home.js\nvar Actions=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(1), __webpack_require__.e(13)]).then(__webpack_require__.bind(null, 286));});});var Footer=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return __webpack_require__.e(/* import() */ 20).then(__webpack_require__.bind(null, 256));});});var Level=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(15)]).then(__webpack_require__.bind(null, 257));});});var VaccinationHeader=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(17)]).then(__webpack_require__.bind(null, 258));});});var MapSwitcher=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return __webpack_require__.e(/* import() */ 21).then(__webpack_require__.bind(null, 259));});});var Minigraphs=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(6), __webpack_require__.e(22)]).then(__webpack_require__.bind(null, 260));});});var Search=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return __webpack_require__.e(/* import() */ 16).then(__webpack_require__.bind(null, 274));});});var Home_Table=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(9)]).then(__webpack_require__.bind(null, 282));});});function Home(){var _timeseries$TT;var _useState=Object(react[\"useState\"])({stateCode:'TT',districtName:null}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),regionHighlighted=_useState2[0],setRegionHighlighted=_useState2[1];var _useLocalStorage=Object(useLocalStorage[\"a\" /* default */])('anchor',null),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,1),anchor=_useLocalStorage2[0];var _useLocalStorage3=Object(useLocalStorage[\"a\" /* default */])('expandTable',false),_useLocalStorage4=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage3,2),expandTable=_useLocalStorage4[0],setExpandTable=_useLocalStorage4[1];var _useSessionStorage=Object(useSessionStorage[\"a\" /* default */])('mapStatistic','active'),_useSessionStorage2=Object(slicedToArray[\"a\" /* default */])(_useSessionStorage,2),mapStatistic=_useSessionStorage2[0],setMapStatistic=_useSessionStorage2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),date=_useState4[0],setDate=_useState4[1];var location=Object(react_router[\"h\" /* useLocation */])();var _useStickySWR=hooks_useStickySWR(\"\".concat(constants[\"c\" /* DATA_API_ROOT */],\"/timeseries.min.json\"),commonFunctions[\"b\" /* fetcher */],{revalidateOnMount:true,refreshInterval:constants[\"b\" /* API_REFRESH_INTERVAL */]}),timeseries=_useStickySWR.data;var _useStickySWR2=hooks_useStickySWR(\"\".concat(constants[\"c\" /* DATA_API_ROOT */],\"/data\").concat(date?\"-\".concat(date):'',\".min.json\"),commonFunctions[\"b\" /* fetcher */],{revalidateOnMount:true,refreshInterval:constants[\"b\" /* API_REFRESH_INTERVAL */]}),data=_useStickySWR2.data;var homeRightElement=Object(react[\"useRef\"])();var isVisible=hooks_useIsVisible(homeRightElement);var _useWindowSize=Object(useWindowSize[\"a\" /* default */])(),width=_useWindowSize.width;var hideDistrictData=date!==''&&date<constants[\"d\" /* DISTRICT_START_DATE */];var hideDistrictTestData=date===''||date>Object(formatISO[\"a\" /* default */])(Object(addDays[\"a\" /* default */])(Object(commonFunctions[\"j\" /* parseIndiaDate */])(constants[\"f\" /* DISTRICT_TEST_END_DATE */]),constants[\"t\" /* TESTED_EXPIRING_DAYS */]),{representation:'date'});var hideVaccinated=Object(commonFunctions[\"h\" /* getStatistic */])(data===null||data===void 0?void 0:data['TT'],'total','vaccinated')===0;var lastDataDate=Object(react[\"useMemo\"])(function(){var _data$TT,_data$TT$meta,_data$TT2,_data$TT2$meta,_data$TT2$meta$tested,_data$TT3,_data$TT3$meta,_data$TT3$meta$vaccin;var updatedDates=[data===null||data===void 0?void 0:(_data$TT=data['TT'])===null||_data$TT===void 0?void 0:(_data$TT$meta=_data$TT.meta)===null||_data$TT$meta===void 0?void 0:_data$TT$meta.date,data===null||data===void 0?void 0:(_data$TT2=data['TT'])===null||_data$TT2===void 0?void 0:(_data$TT2$meta=_data$TT2.meta)===null||_data$TT2$meta===void 0?void 0:(_data$TT2$meta$tested=_data$TT2$meta.tested)===null||_data$TT2$meta$tested===void 0?void 0:_data$TT2$meta$tested.date,data===null||data===void 0?void 0:(_data$TT3=data['TT'])===null||_data$TT3===void 0?void 0:(_data$TT3$meta=_data$TT3.meta)===null||_data$TT3$meta===void 0?void 0:(_data$TT3$meta$vaccin=_data$TT3$meta.vaccinated)===null||_data$TT3$meta$vaccin===void 0?void 0:_data$TT3$meta$vaccin.date].filter(function(date){return date;});return updatedDates.length>0?Object(formatISO[\"a\" /* default */])(Object(max[\"a\" /* default */])(updatedDates.map(function(date){return Object(commonFunctions[\"j\" /* parseIndiaDate */])(date);})),{representation:'date'}):null;},[data]);var lastUpdatedDate=Object(react[\"useMemo\"])(function(){var updatedDates=Object.keys(data||{}).map(function(stateCode){var _data$stateCode,_data$stateCode$meta;return data===null||data===void 0?void 0:(_data$stateCode=data[stateCode])===null||_data$stateCode===void 0?void 0:(_data$stateCode$meta=_data$stateCode.meta)===null||_data$stateCode$meta===void 0?void 0:_data$stateCode$meta['last_updated'];}).filter(function(datetime){return datetime;});return updatedDates.length>0?Object(commonFunctions[\"d\" /* formatDateObjIndia */])(Object(max[\"a\" /* default */])(updatedDates.map(function(datetime){return Object(commonFunctions[\"j\" /* parseIndiaDate */])(datetime);}))):null;},[data]);var noDistrictDataStates=Object(react[\"useMemo\"])(function(){return(// Heuristic: All cases are in Unknown\nObject.entries(data||{}).reduce(function(res,_ref){var _stateData$districts;var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),stateCode=_ref2[0],stateData=_ref2[1];res[stateCode]=!!((stateData===null||stateData===void 0?void 0:stateData.districts)&&((_stateData$districts=stateData.districts)===null||_stateData$districts===void 0?void 0:_stateData$districts[constants[\"v\" /* UNKNOWN_DISTRICT_KEY */]])&&constants[\"l\" /* PRIMARY_STATISTICS */].every(function(statistic){return Object(commonFunctions[\"h\" /* getStatistic */])(stateData,'total',statistic)===Object(commonFunctions[\"h\" /* getStatistic */])(stateData.districts[constants[\"v\" /* UNKNOWN_DISTRICT_KEY */]],'total',statistic);}));return res;},{}));},[data]);var noRegionHighlightedDistrictData=(regionHighlighted===null||regionHighlighted===void 0?void 0:regionHighlighted.stateCode)&&(regionHighlighted===null||regionHighlighted===void 0?void 0:regionHighlighted.districtName)&&regionHighlighted.districtName!==constants[\"v\" /* UNKNOWN_DISTRICT_KEY */]&&noDistrictDataStates[regionHighlighted.stateCode];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Helmet[\"a\" /* Helmet */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"title\",{children:\"Coronavirus Outbreak in India - covid19india.org\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meta\",{name:\"title\",content:\"Coronavirus Outbreak in India: Latest Map and Case Count\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classnames_default()('home-left',{expanded:expandTable}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:timeseries&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{minHeight:'61px'}}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Actions,{date:date,setDate:setDate,dates:Object.keys((_timeseries$TT=timeseries['TT'])===null||_timeseries$TT===void 0?void 0:_timeseries$TT.dates),lastUpdatedDate:lastUpdatedDate})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:'relative',marginTop:'1rem'},children:[data&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:'50rem'}}),children:[width>=769&&!expandTable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MapSwitcher,{mapStatistic:mapStatistic,setMapStatistic:setMapStatistic}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Level,{data:data['TT']})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})]}),data&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */],{}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home_Table,{data:data,regionHighlighted:regionHighlighted,setRegionHighlighted:setRegionHighlighted,expandTable:expandTable,setExpandTable:setExpandTable,hideDistrictData:hideDistrictData,hideDistrictTestData:hideDistrictTestData,hideVaccinated:hideVaccinated,lastDataDate:lastDataDate,noDistrictDataStates:noDistrictDataStates})})]})}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer,{})})]});}/* harmony default export */ var components_Home = __webpack_exports__[\"default\"] = (Home);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/loaders/Table.js","/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/hooks/useIsVisible.js","/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/hooks/useStickySWR.js","/Users/ssakhilesha/Documents/GitHub/Masters-BDA-project/website/covid19/src/components/Home.js"],"names":["TableLoader","useMeasure","ref","width","windowWidth","window","innerWidth","height","rows","Array","keys","map","i","OPTIONS","root","rootMargin","threshold","useIsVisible","elementRef","useState","isVisible","setIsVisible","useEffect","current","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","unobserve","observe","useStickySWR","key","fetcher","swrOptions","options","setOptions","args","useSWR","data","isValidating","error","rest","useUpdateEffect","produce","draftOptions","initialData","Actions","lazy","retry","Footer","Level","VaccinationHeader","MapSwitcher","Minigraphs","Search","Table","Home","stateCode","districtName","regionHighlighted","setRegionHighlighted","useLocalStorage","anchor","expandTable","setExpandTable","useSessionStorage","mapStatistic","setMapStatistic","date","setDate","location","useLocation","DATA_API_ROOT","revalidateOnMount","refreshInterval","API_REFRESH_INTERVAL","timeseries","homeRightElement","useRef","useWindowSize","hideDistrictData","DISTRICT_START_DATE","hideDistrictTestData","formatISO","addDays","parseIndiaDate","DISTRICT_TEST_END_DATE","TESTED_EXPIRING_DAYS","representation","hideVaccinated","getStatistic","lastDataDate","useMemo","updatedDates","meta","tested","vaccinated","filter","length","max","lastUpdatedDate","Object","datetime","formatDateObjIndia","noDistrictDataStates","reduce","res","stateData","districts","UNKNOWN_DISTRICT_KEY","PRIMARY_STATISTICS","every","statistic","noRegionHighlightedDistrictData","classnames","expanded","minHeight","dates","position","marginTop"],"mappings":"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","file":"x","sourcesContent":["import ContentLoader from 'react-content-loader';\nimport {useMeasure} from 'react-use';\n\nconst TableLoader = () => {\n  let [ref, {width}] = useMeasure();\n  const windowWidth = window.innerWidth;\n\n  width = width || (windowWidth >= 769 ? 528 : windowWidth);\n  if (windowWidth < 769) {\n    width -= 30;\n  }\n\n  const height = 45;\n  const rows = 20;\n\n  return (\n    <div ref={ref} className=\"TableLoader\">\n      <ContentLoader\n        viewBox={`0 0 ${width} ${height * rows}`}\n        height={height * rows}\n        width={width}\n        speed={2}\n        animate={false}\n      >\n        {[...Array(rows).keys()].map((i) => (\n          <rect\n            key={i}\n            x=\"0\"\n            y={height * i}\n            rx=\"3\"\n            ry=\"3\"\n            width={width}\n            height={height - 5}\n          />\n        ))}\n      </ContentLoader>\n    </div>\n  );\n};\n\nexport default TableLoader;\n","import {useState, useEffect} from 'react';\n\nconst OPTIONS = {\n  root: null,\n  rootMargin: '0px 0px 0px 0px',\n  threshold: 0,\n};\n\nconst useIsVisible = (elementRef) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (elementRef.current) {\n      const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsVisible(true);\n            observer.unobserve(elementRef.current);\n          }\n        });\n      }, OPTIONS);\n      observer.observe(elementRef.current);\n    }\n  }, [elementRef]);\n\n  return isVisible;\n};\n\nexport default useIsVisible;\n","import produce from 'immer';\nimport {useState} from 'react';\nimport {useUpdateEffect} from 'react-use';\nimport useSWR from 'swr';\n\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n  const [options, setOptions] = useState(swrOptions);\n\n  const {data, isValidating, error, ...rest} = useSWR(\n    key,\n    fetcher,\n    options,\n    ...args\n  );\n\n  useUpdateEffect(() => {\n    setOptions(\n      produce(options, (draftOptions) => {\n        draftOptions.initialData = data;\n      })\n    );\n  }, [data]);\n\n  return {\n    ...rest,\n    isValidating,\n    error,\n    data,\n  };\n}\n\nexport default useStickySWR;\n","import TableLoader from './loaders/Table';\n\nimport {\n  API_REFRESH_INTERVAL,\n  DATA_API_ROOT,\n  DISTRICT_START_DATE,\n  DISTRICT_TEST_END_DATE,\n  PRIMARY_STATISTICS,\n  TESTED_EXPIRING_DAYS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport {\n  fetcher,\n  formatDateObjIndia,\n  getStatistic,\n  parseIndiaDate,\n  retry,\n} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport {addDays, formatISO, max} from 'date-fns';\nimport {useMemo, useRef, useState, lazy, Suspense} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {useLocation} from 'react-router-dom';\nimport {useLocalStorage, useSessionStorage, useWindowSize} from 'react-use';\n\nconst Actions = lazy(() => retry(() => import('./Actions')));\nconst Footer = lazy(() => retry(() => import('./Footer')));\nconst Level = lazy(() => retry(() => import('./Level')));\nconst VaccinationHeader = lazy(() =>\n  retry(() => import('./VaccinationHeader'))\n);\nconst MapSwitcher = lazy(() => retry(() => import('./MapSwitcher')));\nconst Minigraphs = lazy(() => retry(() => import('./Minigraphs')));\nconst Search = lazy(() => retry(() => import('./Search')));\nconst Table = lazy(() => retry(() => import('./Table')));\n\nfunction Home() {\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: 'TT',\n    districtName: null,\n  });\n\n  const [anchor] = useLocalStorage('anchor', null);\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\n    'mapStatistic',\n    'active'\n  );\n\n  const [date, setDate] = useState('');\n  const location = useLocation();\n\n  const {data: timeseries} = useStickySWR(\n    `${DATA_API_ROOT}/timeseries.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: API_REFRESH_INTERVAL,\n    }\n  );\n\n  const {data} = useStickySWR(\n    `${DATA_API_ROOT}/data${date ? `-${date}` : ''}.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: API_REFRESH_INTERVAL,\n    }\n  );\n\n  const homeRightElement = useRef();\n  const isVisible = useIsVisible(homeRightElement);\n  const {width} = useWindowSize();\n\n  const hideDistrictData = date !== '' && date < DISTRICT_START_DATE;\n  const hideDistrictTestData =\n    date === '' ||\n    date >\n      formatISO(\n        addDays(parseIndiaDate(DISTRICT_TEST_END_DATE), TESTED_EXPIRING_DAYS),\n        {representation: 'date'}\n      );\n\n  const hideVaccinated =\n    getStatistic(data?.['TT'], 'total', 'vaccinated') === 0;\n\n  const lastDataDate = useMemo(() => {\n    const updatedDates = [\n      data?.['TT']?.meta?.date,\n      data?.['TT']?.meta?.tested?.date,\n      data?.['TT']?.meta?.vaccinated?.date,\n    ].filter((date) => date);\n    return updatedDates.length > 0\n      ? formatISO(max(updatedDates.map((date) => parseIndiaDate(date))), {\n          representation: 'date',\n        })\n      : null;\n  }, [data]);\n\n  const lastUpdatedDate = useMemo(() => {\n    const updatedDates = Object.keys(data || {})\n      .map((stateCode) => data?.[stateCode]?.meta?.['last_updated'])\n      .filter((datetime) => datetime);\n    return updatedDates.length > 0\n      ? formatDateObjIndia(\n          max(updatedDates.map((datetime) => parseIndiaDate(datetime)))\n        )\n      : null;\n  }, [data]);\n\n  const noDistrictDataStates = useMemo(\n    () =>\n      // Heuristic: All cases are in Unknown\n      Object.entries(data || {}).reduce((res, [stateCode, stateData]) => {\n        res[stateCode] = !!(\n          stateData?.districts &&\n          stateData.districts?.[UNKNOWN_DISTRICT_KEY] &&\n          PRIMARY_STATISTICS.every(\n            (statistic) =>\n              getStatistic(stateData, 'total', statistic) ===\n              getStatistic(\n                stateData.districts[UNKNOWN_DISTRICT_KEY],\n                'total',\n                statistic\n              )\n          )\n        );\n        return res;\n      }, {}),\n    [data]\n  );\n\n  const noRegionHighlightedDistrictData =\n    regionHighlighted?.stateCode &&\n    regionHighlighted?.districtName &&\n    regionHighlighted.districtName !== UNKNOWN_DISTRICT_KEY &&\n    noDistrictDataStates[regionHighlighted.stateCode];\n\n  return (\n    <>\n      <Helmet>\n        <title>Coronavirus Outbreak in India - covid19india.org</title>\n        <meta\n          name=\"title\"\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\n        />\n      </Helmet>\n\n      <div className=\"Home\">\n        <div className={classnames('home-left', {expanded: expandTable})}>\n          <div className=\"header\">\n            <>\n              {timeseries && (\n                <Suspense fallback={<div style={{minHeight: '61px'}} />}>\n                  <Actions\n                    {...{\n                      date,\n                      setDate,\n                      dates: Object.keys(timeseries['TT']?.dates),\n                      lastUpdatedDate,\n                    }}\n                  />\n                </Suspense>\n              )}\n            </>\n          </div>\n\n          <div style={{position: 'relative', marginTop: '1rem'}}>\n            {data && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                {width >= 769 && !expandTable && (\n                  <MapSwitcher {...{mapStatistic, setMapStatistic}} />\n                )}\n                <Level data={data['TT']} />\n              </Suspense>\n            )}\n\n            <></>\n          </div>\n\n          {data && (\n            <Suspense fallback={<TableLoader />}>\n              <Table\n                {...{\n                  data,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                  expandTable,\n                  setExpandTable,\n                  hideDistrictData,\n                  hideDistrictTestData,\n                  hideVaccinated,\n                  lastDataDate,\n                  noDistrictDataStates,\n                }}\n              />\n            </Suspense>\n          )}\n        </div>\n      </div>\n\n      {isVisible && (\n        <Suspense fallback={<div />}>\n          <Footer />\n        </Suspense>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"]}}